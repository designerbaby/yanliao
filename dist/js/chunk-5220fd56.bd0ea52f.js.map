{"version":3,"sources":["webpack:///./src/api/draft.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./src/assets/2.png","webpack:///./src/views/Main/Edit/index.vue?a545","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/Main/Edit/index.vue?5564","webpack:///src/views/Main/Edit/index.vue","webpack:///./src/views/Main/Edit/index.vue?9231","webpack:///./src/views/Main/Edit/index.vue","webpack:///./src/views/Main/Edit/index.vue?a4dc","webpack:///./src/assets/icon-player.png"],"names":["axios","service","addDraft","data","method","url","deleteDraft","draftId","draft_id","fetchDraftDetailById","$","$every","every","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","module","exports","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","class","toneType","on","$event","directives","name","rawName","value","expression","attrs","domProps","_q","_l","line","index","key","_s","validateResult","contents","status","newLyricList","composing","$set","lyricInputChange","lyricInputBlur","text","singleTone","singleToneIdChange","model","callback","$$v","singleToneId","item","tone_id","display_name","playerButtonClick","_e","tone","toneSelectorChange","findIndex","toneId","audit_url","bpmInputChange","bpm","melodySelectorDisable","melody","label","prevButtonClick","confirmButtonClick","dialogVisible","staticRenderFns","components","Header","submitSuccess","edited","maxTone","minTone","firstSelectTone","musicId","formChecked","melodyOptions","oldLyricList","toneList","watch","newValue","oldValue","created","log","arrangeId","getDraftInfo","getEditedInfo","getSongInfo","mounted","toOnBeforeUpload","destroyed","window","onbeforeunload","methods","isModified","comparisonFormData","JSON","stringify","defaultForm","currentForm","initLyricData","new_lyric_list","content","o","initFormData","type","editInfo","m","$nextTick","initMelodyOption","initvalidateData","getFormData","submitDraft","step","sessionStorage","setItem","id","music_id","tone_type","cleansingData","parseInt","up_down_tone","max_tone","min_tone","formData","i","push","max","min","unshift","getMelodyConfig","console","checkBpmInput","forEach","checkAllToneSelector","allPlayer","pause","player","currentTime","play","$router","f","arrange_id","checkForm","polyphonicList","fix_pinyin_list","polyphonic_list","response","fillValidateResult","checkSingleContentInput","defaultValidateObject","test","countAdjust","Array","from","count","checkAllContentInput","Object","keys","prototype","toString","call","v","list","component"],"mappings":"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","file":"js/chunk-5220fd56.bd0ea52f.js","sourcesContent":["// 草稿功能相关api\nimport service from './main'\n\nconst axios = service\n\n// 添加或修改草稿箱\nconst addDraft = (data) => {\n  return axios({\n    method: 'post',\n    url: '/cgi-bin/v1/yan/synth/modify_audio_draft',\n    data,\n  })\n}\n\n// 删除草稿箱 \nconst deleteDraft = (draftId) => {\n  return axios({\n    method: 'post',\n    url: '/cgi-bin/v1/yan/synth/del_audio_draft',\n    data: {\n      draft_id: draftId,\n    },\n  })\n}\n\n// 拉取草稿箱详情\nconst fetchDraftDetailById = (draftId) => {\n  return axios({\n    method: 'post',\n    url: '/cgi-bin/v1/yan/synth/get_audio_draft_detail',\n    data: {\n      draft_id: draftId,\n    },\n  })\n}\n\nexport {\n  addDraft,\n  deleteDraft,\n  fetchDraftDetailById,\n}","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.es/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAArCAMAAAAwqkq2AAAAjVBMVEUAAAAtq/8srf9W4/8trP8srP8sq/8sq/8trP8trP8ztP9Lxv8trP8srP8trf8trv8urv8sq/8sq/8srP8srP8trP8srP8trP8urP8wrv8wrv8sq/8trP8trv8vrf8wsv8xtf8trP8tq/8srf8trf8trP8trP8trP8srP8trf8trP8trP8urf9Av/8sq//3dUWiAAAALnRSTlMAq4UD+7707eN6EQbpuW5FNffm3dbTzVE8KCDHllwxGAqikHJYSrCmnIiHfWMIyHqPAwAAAWhJREFUOMuNlOmWgjAMRiNlEZRFWUREcB8dnb7/483RpMwopeT+4+s9ITQ5QIcob07m2V7mWPEMRtj5nvxj6QdGe7WU78zPBvso+1iD9rfU4Q/YWyVk9d2/Ol1fK629dvF0k1AQ5xik2gsK8XAiumRGUaSxGzzK/5cKPHyfRv9CPXkLLQzbni20hUrU456eaNtsMd0OTaj52Imhbz28clu8p9VQ9T3u1EcaD/W+nz4JP9Ia9QpY0L0XPFvt3J1nl/bLdgOWvZ6rDeaQkJ3tOPZ2gba7ZsizWiL2mdN2TrbLsaMF2dNmXG5DSTjtuL3yVNu+GP/GgyTSEkapCmXXO/5o5DIGRtvqRiYBx7ZRXjyAQUO15yXHDlK6kQo47Km2yf655W5xFM81odkkpqEUOGzR/fQOYMCSSAQB3Uo40XAiPSfdgZM0YJHuqkWFK0cvuuobju5L5AEpRxfO6/GCbZl08qMwu5wAfgEAgWxGqClQhAAAAABJRU5ErkJggg==\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=96aa483c&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-page\"},[_c('div',{staticClass:\"main\"},[_vm._m(0),_c('div',{staticClass:\"section\"},[_vm._m(1),_c('div',{staticClass:\"lyric-edit-box\"},[_c('div',{staticClass:\"lyric-item first-lyric-item\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"原歌词:\")]),_c('div',{staticClass:\"title\"},[_vm._v(\"新歌词:\")]),_c('div',{class:_vm.toneType === 0 ? 'radio selected' : 'radio'},[_c('div',{staticClass:\"icon\",on:{\"click\":function($event){_vm.toneType = 0}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toneType),expression:\"toneType\"}],attrs:{\"id\":\"0\",\"type\":\"radio\",\"hidden\":\"\"},domProps:{\"value\":0,\"checked\":_vm._q(_vm.toneType,0)},on:{\"change\":function($event){_vm.toneType=0}}}),_c('label',{attrs:{\"for\":\"0\"}},[_vm._v(\"单个音源\")])]),_c('div',{class:_vm.toneType === 1 ? 'radio selected' : 'radio'},[_c('div',{staticClass:\"icon\",on:{\"click\":function($event){_vm.toneType = 1}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toneType),expression:\"toneType\"}],attrs:{\"id\":\"1\",\"type\":\"radio\",\"hidden\":\"\"},domProps:{\"value\":1,\"checked\":_vm._q(_vm.toneType,1)},on:{\"change\":function($event){_vm.toneType=1}}}),_c('label',{attrs:{\"for\":\"1\"}},[_vm._v(\"多个音源\")])])]),_vm._l((_vm.oldLyricList),function(line,index){return _c('div',{key:line + index,staticClass:\"lyric-item\"},[_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(line))]),_c('div',{class:_vm.validateResult.contents[index].status === false ? 'input check-failed' : 'input'},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newLyricList[index].content),expression:\"newLyricList[index].content\"}],attrs:{\"autofocus\":index === 0 ? 'autofocus' : null,\"placeholder\":\"输入新歌词\"},domProps:{\"value\":(_vm.newLyricList[index].content)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.newLyricList[index], \"content\", $event.target.value)},function($event){return _vm.lyricInputChange($event, index)}],\"blur\":function($event){return _vm.lyricInputBlur($event, index)}}}),_c('span',{staticClass:\"error-text\"},[_vm._v(_vm._s(_vm.validateResult.contents[index].text))])]),(_vm.toneType === 0 && index === 0)?_c('div',{class:_vm.validateResult.singleTone === false ? 'tone-selector check-failed' : 'tone-selector'},[_c('el-select',{staticClass:\"selector\",attrs:{\"filterable\":\"\",\"placeholder\":'选择谁来演唱这首歌'},on:{\"change\":_vm.singleToneIdChange},model:{value:(_vm.singleToneId),callback:function ($$v) {_vm.singleToneId=$$v},expression:\"singleToneId\"}},_vm._l((_vm.toneList),function(item){return _c('el-option',{key:item.tone_id + index,attrs:{\"label\":item.display_name,\"value\":item.tone_id}})}),1),(_vm.singleToneId !== null)?_c('img',{attrs:{\"src\":require(\"@/assets/icon-player.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.playerButtonClick($event, _vm.singleToneId)}}}):_vm._e()],1):_vm._e(),(_vm.toneType === 1)?_c('div',{class:_vm.validateResult.tone[index] === false ? 'tone-selector check-failed' : 'tone-selector'},[_c('el-select',{staticClass:\"selector\",attrs:{\"filterable\":\"\",\"placeholder\":'选择谁来演唱这首歌'},on:{\"change\":function($event){return _vm.toneSelectorChange($event, index)}},model:{value:(_vm.newLyricList[index].toneId),callback:function ($$v) {_vm.$set(_vm.newLyricList[index], \"toneId\", $$v)},expression:\"newLyricList[index].toneId\"}},_vm._l((_vm.toneList),function(item){return _c('el-option',{key:item.tone_id + index,attrs:{\"label\":item.display_name,\"value\":item.tone_id}})}),1),((_vm.newLyricList.findIndex(function (item) { return item.toneId === _vm.newLyricList[index].toneId }) === index) && _vm.newLyricList[index].toneId !== null)?_c('img',{attrs:{\"src\":require(\"@/assets/icon-player.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.playerButtonClick($event, _vm.newLyricList[index].toneId)}}}):_vm._e()],1):_vm._e()])}),_c('div',{staticClass:\"audio-box\"},_vm._l((_vm.toneList),function(item){return _c('audio',{key:item.tone_id,attrs:{\"id\":(\"audio-\" + (item.tone_id)),\"src\":item.audit_url}})}),0)],2)]),_c('div',{staticClass:\"section\"},[_vm._m(2),_c('el-input-number',{staticClass:\"bpm-input\",attrs:{\"controls-position\":\"right\"},on:{\"input\":_vm.bpmInputChange},model:{value:(_vm.bpm),callback:function ($$v) {_vm.bpm=$$v},expression:\"bpm\"}}),(_vm.validateResult.bpm === false)?_c('div',{staticClass:\"bpm-error-text\"},[_vm._v(\"曲速不能超过 50 - 200 (bpm) 的范围\")]):_vm._e()],1),_c('div',{staticClass:\"section\"},[_vm._m(3),_c('el-select',{staticClass:\"melody-selector\",attrs:{\"disabled\":_vm.melodySelectorDisable === true ? true : false,\"placeholder\":_vm.melodySelectorDisable === true ? '请选择音源后再选择曲调' : ''},model:{value:(_vm.melody),callback:function ($$v) {_vm.melody=$$v},expression:\"melody\"}},_vm._l((_vm.melodyOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_c('div',{staticClass:\"footer\"},[_c('button',{staticClass:\"main-button\",on:{\"click\":_vm.prevButtonClick}},[_vm._v(\"上一步\")]),_c('button',{staticClass:\"main-button\",on:{\"click\":_vm.confirmButtonClick}},[_vm._v(\"确定\")])]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"width\":\"400px\",\"custom-class\":\"dialog\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"dialog-main\"},[_vm._v(\"请先完善信息后再进行下一步\")]),_c('div',{staticClass:\"dialog-confirm-button\",on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"确定\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-title\"},[_c('img',{staticClass:\"step\",attrs:{\"src\":require(\"@/assets/2.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"text\"},[_vm._v(\"改编歌曲\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-box\"},[_c('div',{staticClass:\"edit-title\"},[_c('div',{staticClass:\"section-title\"},[_vm._v(\"编辑歌词\")]),_c('div',{staticClass:\"tips\"},[_vm._v(\"将原歌词替换成新歌词\")])]),_c('div',{staticClass:\"tone-title\"},[_c('div',{staticClass:\"section-title\"},[_vm._v(\"选择音源\")]),_c('div',{staticClass:\"tips\"},[_vm._v(\"选择谁来演唱这首歌\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"调节曲速\")]),_c('span',{staticClass:\"melody-tips\"},[_vm._v(\"(单位: BPM)\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_vm._v(\"选择曲调 \"),_c('span',{staticClass:\"melody-tips\"},[_vm._v(\"(单位: 1 度代表 1 半音)\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"edit-page\">\n    <div class=\"main\">\n      <div class=\"page-title\">\n        <img class=\"step\" src=\"@/assets/2.png\" alt=\"\"/>\n        <div class=\"text\">改编歌曲</div>\n      </div>\n      <div class=\"section\">\n        <div class=\"title-box\">\n          <div class=\"edit-title\">\n            <div class=\"section-title\">编辑歌词</div>\n            <div class=\"tips\">将原歌词替换成新歌词</div>\n          </div>\n          <div class=\"tone-title\">\n            <div class=\"section-title\">选择音源</div>\n            <div class=\"tips\">选择谁来演唱这首歌</div>\n          </div>\n        </div>\n        <div class=\"lyric-edit-box\">\n          <div class=\"lyric-item first-lyric-item\">\n            <div class=\"title\">原歌词:</div>\n            <div class=\"title\">新歌词:</div>\n            <div :class=\"toneType === 0 ? 'radio selected' : 'radio'\">\n              <div class=\"icon\" @click=\"toneType = 0\"></div>\n              <input id=\"0\" v-model=\"toneType\" type=\"radio\" :value=\"0\" hidden>\n              <label for=\"0\">单个音源</label>\n            </div>\n            <div :class=\"toneType === 1 ? 'radio selected' : 'radio'\">\n              <div class=\"icon\" @click=\"toneType = 1\"></div>\n              <input id=\"1\" v-model=\"toneType\" type=\"radio\" :value=\"1\" hidden>\n              <label for=\"1\">多个音源</label>\n            </div>\n          </div>\n\n          <div class=\"lyric-item\" v-for=\"(line, index) in oldLyricList\" :key=\"line + index\">\n            <div class=\"text\">{{ line }}</div>\n\n            <div :class=\"validateResult.contents[index].status === false ? 'input check-failed' : 'input'\">\n              <input \n                :autofocus=\"index === 0 ? 'autofocus' : null\" \n                placeholder=\"输入新歌词\" \n                v-model=\"newLyricList[index].content\" \n                @input=\"lyricInputChange($event, index)\" \n                @blur=\"lyricInputBlur($event, index)\" \n              />\n              <span class=\"error-text\">{{ validateResult.contents[index].text }}</span>\n            </div>\n\n            <div v-if=\"toneType === 0 && index === 0\" :class=\"validateResult.singleTone === false ? 'tone-selector check-failed' : 'tone-selector'\">\n              <el-select\n                filterable\n                class=\"selector\" \n                :placeholder=\"'选择谁来演唱这首歌'\"\n                v-model=\"singleToneId\"\n                @change=\"singleToneIdChange\"\n                >\n                <el-option\n                  v-for=\"item in toneList\"\n                  :key=\"item.tone_id + index\"\n                  :label=\"item.display_name\"\n                  :value=\"item.tone_id\"\n                >\n                </el-option>\n              </el-select>\n              <img v-if=\"singleToneId !== null\" src=\"@/assets/icon-player.png\" alt=\"\" @click=\"playerButtonClick($event, singleToneId)\">\n            </div>\n\n            <div v-if=\"toneType === 1\" :class=\"validateResult.tone[index] === false ? 'tone-selector check-failed' : 'tone-selector'\">\n              <el-select filterable class=\"selector\" :placeholder=\"'选择谁来演唱这首歌'\"\n                v-model=\"newLyricList[index].toneId\"\n                @change=\"toneSelectorChange($event, index)\"\n              >\n                <el-option\n                  v-for=\"item in toneList\"\n                  :key=\"item.tone_id + index\"\n                  :label=\"item.display_name\"\n                  :value=\"item.tone_id\"\n                >\n                </el-option>\n              </el-select>\n              <img \n                v-if=\"(newLyricList.findIndex((item) => { return item.toneId === newLyricList[index].toneId }) === index) && newLyricList[index].toneId !== null\" \n                src=\"@/assets/icon-player.png\" alt=\"\" @click=\"playerButtonClick($event, newLyricList[index].toneId)\"\n                >\n            </div>\n\n          </div>\n\n          <div class=\"audio-box\">\n            <audio v-for=\"item in toneList\" :id=\"`audio-${item.tone_id}`\" :key=\"item.tone_id\" :src=\"item.audit_url\"></audio>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-title\">\n          <span>调节曲速</span>\n          <span class=\"melody-tips\">(单位: BPM)</span>\n        </div>\n        <el-input-number class=\"bpm-input\" v-model=\"bpm\" @input=\"bpmInputChange\" controls-position=\"right\"  />\n        <div v-if=\"validateResult.bpm === false\" class=\"bpm-error-text\">曲速不能超过 50 - 200 (bpm) 的范围</div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-title\">选择曲调\n          <span class=\"melody-tips\">(单位: 1 度代表 1 半音)</span>\n        </div>\n        <el-select class=\"melody-selector\" \n          v-model=\"melody\"\n          :disabled=\"melodySelectorDisable === true ? true : false\" :placeholder=\"melodySelectorDisable === true ? '请选择音源后再选择曲调' : ''\"\n        >\n          <el-option\n            v-for=\"item in melodyOptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          >\n          </el-option>\n        </el-select>\n      </div>\n    </div>\n    <div class=\"footer\">\n      <button @click=\"prevButtonClick\" class=\"main-button\">上一步</button>\n      <button @click=\"confirmButtonClick\" class=\"main-button\">确定</button>\n    </div>\n    <el-dialog\n      :visible.sync=\"dialogVisible\"\n      width=\"400px\"\n      custom-class=\"dialog\"\n    >\n      <div class=\"dialog-main\">请先完善信息后再进行下一步</div>\n      <div class=\"dialog-confirm-button\" @click=\"dialogVisible = false\">确定</div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { \n  Select, \n  Option,\n  Input,\n  Dialog,\n  InputNumber,\n} from 'element-ui'\n\nimport { \n  songDetail,\n  songOtherDetail,\n  preSubmit,\n  submit,\n  editInfo,\n  melodyConfig,\n} from '@/api/api'\n\nimport {\n  addDraft,\n  fetchDraftDetailById,\n  deleteDraft,\n} from '@/api/draft'\n\nimport Header from '@/common/components/Header.vue'\nimport { reportEvent } from '@/common/utils/helper'\n\nexport default {\n  name: 'Home',\n  components: {\n    'el-input': Input,\n    'el-select': Select,\n    'el-option': Option,\n    'el-dialog': Dialog,\n    'el-input-number': InputNumber,\n    Header,\n  },\n  data() {\n    return {\n      submitSuccess: false, // 是否提交成功\n      edited: false, // 是否编辑过\n      maxTone: 0, // 最大的曲调\n      minTone: 0, // 最小的曲调\n      melodySelectorDisable: true, // 曲调是否可编辑\n      // defaultValue: {},\n      // showMelodyTips: false,\n      singleToneId: null,\n      validateResult: {\n        contents: [],\n        tone: [],\n        bpm: null,\n        singleTone: null,\n      },\n      // 初次选择音源\n      firstSelectTone: true,\n      musicId: null,\n      // 音源模式, 0: 单个音源, 1: 多个音源\n      toneType: 0,\n      newLyricList: [],\n      bpm: 50,\n      melody: null,\n      // 表单校验\n      formChecked: true,\n      // 弹窗展示\n      dialogVisible: false,\n      melodyOptions: [],\n      oldLyricList: [],\n      toneList: [],\n      toneId: 0\n    }\n  },\n  watch:{\n    toneType(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.validateResult.tone = this.oldLyricList.map(item => null)\n        this.validateResult.singleTone = null\n        if (newValue === 0) {\n          if (!this.singleToneId) {\n            this.melodySelectorDisable = true\n          } else {\n            this.melodySelectorDisable = false\n          }\n        } else if (newValue === 1) {\n          if (this.newLyricList.every(item => !item.toneId)) {\n            this.melodySelectorDisable = true\n          } else {\n            this.melodySelectorDisable = false\n          }\n        }\n      }\n    },\n  },\n  created() {\n    const musicId = parseInt(this.$route.params.musicId) // 歌曲id\n    const arrangeId = this.$route.params.arrangeId // 编辑id\n    let toneId = this.$route.params.toneId // 音色id\n    const draftId = sessionStorage.getItem('draftId') // 草稿箱id\n    log(`musicId:${musicId}, arrangeId:${arrangeId},toneId:${toneId}`)\n\n    this.toneId = toneId\n    this.musicId = musicId\n    this.arrangeId = arrangeId\n    this.draftId = draftId\n\n    songOtherDetail(musicId).then((response) => {\n      const { data } = response.data\n      this.toneList = data.tone_list\n    })\n    // !这里主要兼容，在矫正歌词点上一步时，先显示上次编辑的东西。即草稿没有被加载\n    if (draftId) {\n      this.getDraftInfo(draftId)\n    } else if (arrangeId) {\n      this.getEditedInfo(arrangeId)\n    } else {\n      // 获取歌曲基本信息\n      this.getSongInfo()\n    }\n    // if (arrangeId) {\n    //   this.getEditedInfo(arrangeId)\n    // } else if (draftId) {\n    //   this.getDraftInfo(draftId)\n    // } else {\n    //   // 获取歌曲基本信息\n    //   this.getSongInfo()\n    // }\n  },\n  mounted() {\n    reportEvent('edit-page-exposure')\n    this.toOnBeforeUpload()\n    // setInterval(() => {\n    //   this.submitDraft()\n    // }, 1000)\n  },\n  destroyed() {\n    window.onbeforeunload = null\n  },\n  methods: {\n    toOnBeforeUpload() {\n      // 在浏览器退出之前，判断是否有数据修改了没保存\n      window.onbeforeunload = (event) => {\n        const isModified = this.comparisonFormData()\n        if (isModified === true) {\n          this.submitDraft()\n          return '您可能有数据没有保存'\n        }\n      }\n    },\n    comparisonFormData() {\n      // 对比form两个有没改变\n      const defaultForm = this.defaultForm\n      const currentForm = this.getFormData()\n      let isModified = false\n      if (JSON.stringify(defaultForm) !== JSON.stringify(currentForm)) {\n        isModified = true\n      }\n      return isModified\n    },\n    getDraftInfo(draftId) {\n      // 拉取草稿箱\n      fetchDraftDetailById(draftId).then((response) => {\n        const { data } = response.data\n        this.initFormData(data)\n      })\n    },\n    getEditedInfo(arrangeId) {\n      // 查询歌曲的编辑信息\n      editInfo(arrangeId).then((response) => {\n        const { data } = response.data\n        this.initFormData(data)\n      })\n    },\n    // 获取歌曲基本信息\n    getSongInfo() {\n      const musicId = this.musicId\n      songDetail(musicId).then((response) => {\n        const { data } = response.data\n        this.initFormData(data)\n      })\n    },\n    initLyricData(data) {\n      if (this.arrangeId || this.draftId) {\n        if (this.toneType === 0) {\n          this.singleToneId = data.new_lyric_list[0].tone_id || null\n          this.newLyricList = data.new_lyric_list.map(item => { return { content: item.content, toneId: null, } })\n        } else {\n          this.newLyricList = data.new_lyric_list.map(item => { return { content: item.content, toneId: item.tone_id || null, } })\n        }\n      } else {\n        this.newLyricList = this.oldLyricList.map((item) => {\n          const o = {\n            content: item,\n            toneId: null,\n          }\n          return o\n        })\n      }\n    },\n    // 初始化表单数据\n    initFormData(data) {\n      log('initFormData data:', data)\n      let type = 'normal'\n      if (this.draftId) {\n        type = 'draft'\n      } else if (this.arrangeId) {\n        type = 'edit'\n      }\n      // !这里主要兼容，在矫正歌词点上一步时，先显示上次编辑的东西。即草稿没有被加载\n      // if (this.arrangeId) {\n      //   type = 'edit'\n      // } else if (this.draftId) {\n      //   type = 'draft'\n      // }\n      const m = {\n        'normal': () => {\n          this.oldLyricList = data.lyric_list\n          this.bpm = data.avg_bpm\n          this.maxTone = 0\n          this.minTone = 0\n          this.countAdjust = data.count_adjust || []\n          this.initLyricData()\n        },\n        'edit': () => {\n          const editInfo = data.edit_info\n          log('edit editInfo:', editInfo)\n          this.maxTone = data.max_tone\n          this.minTone = data.min_tone\n          this.bpm = editInfo.bpm\n          this.melody = editInfo.up_down_tone\n          this.toneType = editInfo.tone_type\n          this.oldLyricList = data.lyric_list\n          this.countAdjust = data.count_adjust || []\n          this.initLyricData(editInfo)\n        },\n        'draft': () => {\n          const draftDetail = data.audio_draft_info.content\n          this.bpm = draftDetail.bpm\n          this.melody = draftDetail.up_down_tone\n          this.toneType = draftDetail.tone_type\n          this.maxTone = draftDetail.max_tone\n          this.minTone = draftDetail.min_tone\n          this.oldLyricList = draftDetail.new_lyric_list.map(item => item.content)\n          const musicId = this.musicId\n          songDetail(musicId).then((response) => {\n            this.oldLyricList = response.data.data.lyric_list\n            this.initvalidateData()\n          })\n          this.countAdjust = data.audio_draft_info.count_adjust || []\n          this.initLyricData(draftDetail)\n        }\n      }\n      m[type]()\n      this.$nextTick(() => {\n        this.melodySelectorDisable = this.maxTone === 0 && this.minTone === 0 ? true : false\n      })\n      this.initMelodyOption()\n      this.initvalidateData()\n      this.defaultForm = this.getFormData()\n    },\n    // 提交草稿\n    submitDraft() {\n      const formData = this.getFormData()\n      const draftId = sessionStorage.getItem('draftId')\n      const f = Object.assign({}, formData, {\n        step: 1,\n        draft_id: draftId || '',\n      })\n      addDraft(f).then((response) => {\n        const { data } = response.data\n        const id = data.draft_id\n        sessionStorage.setItem('draftId', id)\n      })\n    },\n    // 获取表单数据\n    getFormData() {\n      const formData = {\n        music_id: this.musicId,\n        tone_type: this.toneType,\n        new_lyric_list: this.cleansingData(this.newLyricList),\n        bpm: parseInt(this.bpm),\n        up_down_tone: this.melody,\n        max_tone: this.maxTone,\n        min_tone: this.minTone,\n      }\n      return formData\n    },\n    /* 数据初始化 start */\n    // 初始化校验数据\n    initvalidateData() {\n      this.validateResult = {\n        contents: this.oldLyricList.map(item => { \n          return { status: null, text: '', }\n        }),\n        bpm: null,\n        tone: this.oldLyricList.map(item => null),\n        singleTone: null,\n      }\n    },\n    // 初始化曲调选择项\n    initMelodyOption() {\n      const max = this.maxTone\n      const min = this.minTone\n      const melodyOptions = []\n      // 初始化选择项内容\n      for (let i = min; i <= max; i++) {\n        const o = {\n          value: i,\n        }\n        if (i > 0) {\n          o.label = `升 ${i} 度`\n        } else if (i === 0) {\n          o.label = '曲调不变(默认)'\n        } else {\n          o.label = `降 ${Math.abs(i)} 度`\n        }\n        melodyOptions.push(o)\n      }\n      if (max < 0) { // 最大的小于0，并且没有0\n        melodyOptions.push({\n          value: 0,\n          label: '曲调不变(默认)'\n        })\n      }\n      if (min > 0) {\n        melodyOptions.unshift({\n          value: 0,\n          label: '曲调不变(默认)'\n        })\n      }\n      this.melodyOptions = melodyOptions\n    },\n    /* 数据初始化 end */\n\n    // 获取 melody 配置\n    getMelodyConfig(toneId) {\n      const musicId = this.musicId\n      console.log(`getMelodyConfig: musicId:${musicId}, toneId:${toneId}`)\n      melodyConfig(musicId, toneId).then((response) => {\n        this.melodySelectorDisable = false\n        const { data } = response.data\n        this.maxTone = parseInt(data.tone_max)\n        this.minTone = parseInt(data.tone_min)\n        this.initMelodyOption()\n        this.melody = parseInt((this.maxTone + this.minTone) / 2)\n      })\n    },\n\n    /* 事件监听 start */\n    // bpm 输入框 input 事件\n    bpmInputChange(value) {\n      this.checkBpmInput()\n    },\n    // 音源选择框 change 事件\n    toneSelectorChange(value, index) {\n      if (this.firstSelectTone === true && this.toneType === 1) {\n        log('初次选择音源')\n        this.newLyricList.forEach((item) => {\n          item.toneId = value\n        })\n        this.getMelodyConfig(value)\n        this.checkAllToneSelector()\n        this.firstSelectTone = false\n      }\n\n      if (value) {\n        this.validateResult.tone[index] = true\n      } else {\n        this.validateResult.tone[index] = false\n      }\n    },\n    // 选择谁来唱这首歌的事件\n    singleToneIdChange(value) {\n      if (value) {\n        this.getMelodyConfig(value)\n        this.validateResult.singleTone = true\n      } else {\n        this.validateResult.singleTone = false\n      }\n    },\n    // 歌词输入框 input 事件\n    lyricInputChange(event, index) {\n      const target = event.target\n      const value = target.value\n      const maxLength = this.checkSingleContentInput(value, index)\n      this.edited = true\n      // if (maxLength) {\n      //   this.newLyricList[index].content = this.newLyricList[index].content.slice(0, maxLength)\n      // }\n    },\n    // 歌词输入框 blur 事件\n    lyricInputBlur(event, index) {\n      const target = event.target\n      const value = target.value\n    },\n    // 播放按钮点击\n    playerButtonClick(event, index) {\n      const allPlayer = document.querySelectorAll(`audio`)\n      allPlayer.forEach(item => {\n        item.pause()\n      })\n      const player = document.querySelector(`#audio-${index}`)\n      player.currentTime = 0\n      player.play()\n    },\n    // 上一页按钮点击\n    prevButtonClick() {\n      // 编辑页-上一步按钮-点击\n      reportEvent('edit-page-prev-button')\n      this.$router.push('/search')\n    },\n    // 删除草稿\n    deleteDraft() {\n      const draftId = sessionStorage.getItem('draftId')\n      deleteDraft(draftId)\n      sessionStorage.setItem('draftId', '')\n    },\n    // 确认按钮点击\n    confirmButtonClick() {\n      // 编辑页-确认按钮-点击\n      reportEvent('edit-page-confirm-button')\n      const f = this.getFormData()\n      const arrangeId = this.$route.params.arrangeId\n      if (arrangeId) {\n        f.arrange_id = arrangeId\n      }\n      log('edit confirmButtonClick提交数据', f)\n      this.checkForm()\n      if (this.formChecked === true) {\n        preSubmit(f).then((response) => {\n          const { data } = response.data\n          const polyphonicList = data.polyphonic_list\n          if (polyphonicList.length === 0) {\n            f.fix_pinyin_list = []\n            return submit(f)\n          } else {\n            sessionStorage.setItem('form', JSON.stringify(f))\n            sessionStorage.setItem('polyphonicList', JSON.stringify(data.polyphonic_list))\n            sessionStorage.setItem('editPath', JSON.stringify(this.$router.history.current.path))\n            // this.submitDraft()\n            this.$router.push(`/rectify?arrangeId=${f.arrange_id || ''}`)\n          }\n        }).then((response) => {\n          if (!response) {\n            return\n          }\n          const { data } = response.data\n          this.submitSuccess = true\n          this.deleteDraft()\n          this.$router.push(`/profile`)\n        })\n      } else {\n        this.dialogVisible = true\n      }\n\n      if (this.defaultForm.bpm !== this.bpm) {\n        // 编辑页-用户修改曲速\n        reportEvent('edit-page-update-bpm')\n      }\n      if (this.defaultForm.melody !== this.melody) {\n        // 编辑页-用户修改曲调\n        reportEvent('edit-page-update-melody')\n      }\n    },\n    /* 事件监听 end */\n\n    /* 表单校验 start */\n    fillValidateResult(status, text, index) {\n      const o = {\n        status: status,\n        text: text,\n      }\n      this.validateResult.contents[index] = o\n    },\n    // 检查曲速\n    checkBpmInput() {\n      const bpm = this.bpm\n      if (bpm < 50 || bpm > 200) {\n        this.validateResult.bpm = false\n      } else {\n        this.validateResult.bpm = true\n      }\n    },\n    // 检查唱歌内容\n    checkSingleContentInput(value, index) {\n      const countAdjust = this.countAdjust.find((item) => item.line === index + 1)\n      const defaultValidateObject = {\n        status: true,\n        text: '',\n      }\n      this.validateResult.contents[index] = defaultValidateObject\n      // 为空\n      if (value.length === 0) {\n        this.fillValidateResult(false, '请输入歌词', index)\n        return this.oldLyricList[index].length\n      }\n      // 中文\n      if (/^((?![\\u3000-\\u303F])[\\u2E80-\\uFE4F]|\\·)*(?![\\u3000-\\u303F])[\\u2E80-\\uFE4F](\\·)*$/.test(value) === false) {\n        this.fillValidateResult(false, '只能输入中文', index)\n        return this.oldLyricList[index].length\n      }\n      // 长度\n      if (countAdjust) {\n        if (Array.from(value).length !== countAdjust.count) {\n          // 英文\n          this.fillValidateResult(false, `${Array.from(value).length}/${countAdjust.count}`, index)\n          return countAdjust.count\n        }\n      } else {\n        if (Array.from(value).length !== Array.from(this.oldLyricList[index]).length) {\n          // 中文\n          this.fillValidateResult(false, `${Array.from(value).length}/${Array.from(this.oldLyricList[index]).length}`, index)\n          return Array.from(this.oldLyricList[index]).length\n        }\n      }\n      return Array.from(this.oldLyricList[index]).length\n    },\n    // 检查所有内容的输入\n    checkAllContentInput() {\n      this.newLyricList.forEach((item, index) => {\n        const value = item.content\n        this.checkSingleContentInput(value, index)\n      })\n    },\n    // 检查所有曲调的选择\n    checkAllToneSelector() {\n      if (this.toneType === 0) {\n        if (this.singleToneId !== null) {\n          this.validateResult.singleTone = true\n        } else {\n          this.validateResult.singleTone = false\n        }\n      } else {\n        this.newLyricList.forEach((item, index) => {\n          const value = item.toneId\n          if (value !== null) {\n            this.validateResult.tone[index] = true\n          } else {\n            this.validateResult.tone[index] = false\n          }\n        })\n      }\n    },\n    // 检查表单\n    checkForm() {\n      // 检查 bpm input\n      this.checkBpmInput()\n      // 检查所有 content input\n      this.checkAllContentInput()\n      // 检查所有 tone selector\n      this.checkAllToneSelector()\n      log('validate result', this.validateResult)\n\n      this.formChecked = true\n      const validateResult = this.validateResult\n      Object.keys(validateResult).forEach((k) => {\n        const value = validateResult[k]\n        const type = Object.prototype.toString.call(value)\n        if (type === '[object Array]') {\n          // 数组\n          for (let i = 0; i < value.length; i++) {\n            const v = value[i]\n            if (Object.prototype.toString.call(v) === '[object Boolean]') {\n              if (v === false) {\n                this.formChecked = false\n                break\n              }\n            } else if (Object.prototype.toString.call(v) === '[object Object]') {\n              if (v.status === false) {\n                this.formChecked = false\n                break\n              }\n            }\n          }\n        } else if (type === '[object Boolean]') {\n          if (value === false) {\n            this.formChecked = false\n          }\n        }\n      })\n    },\n    /* 表单校验 end */\n\n    // 清洗数据\n    cleansingData(list) {\n      return list.map((item, index) => {\n        const o = {\n          content: item.content,\n        }\n        if (this.toneType === 0) {\n          if (index === 0) {\n            o.tone_id = this.singleToneId\n          }\n        } else {\n          if (item.toneId) {\n            o.tone_id = item.toneId\n          }\n        }\n        return o\n      })\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .edit-page {\n    // width: 100vw;\n    .main {\n      padding: 0px 0 0 94px;\n      .page-title {\n        margin-bottom: 76px;\n        display: flex;\n        align-items: flex-end;\n        .text {\n          height: 38px;\n          line-height: 38px;\n          color: #000;\n          font-size: 38px;\n          margin-left: 10px;\n        }\n      }\n      .section {\n        margin: 0px 0 0 44px;\n        .melody-tips {\n          color: #939393;\n          font-size: 16px;\n          margin-left: 20px;\n          font-weight: 500;\n        }\n        .bpm-error-text {\n          color: #e02020;\n          display: inline;\n          margin-left: 12px;\n        }\n        .title-box {\n          display: flex;\n          .tone-title {\n            margin-left: 630px;\n            div {\n              padding-left: 5px;\n            }\n          }\n          .edit-title, .tone-title {\n            min-width: 216px;\n          }\n        } \n        .section-title {\n          font-size: 30px;\n          color: #000;\n          display: flex;\n          align-items: center;\n          height: 30px;\n          padding: 0 0 0 16px;\n        }\n        .section-title::before {\n          content: '';\n          width: 5px;\n          height: 30px;\n          display: block;\n          background: #2cabff;\n          margin-right: 10px;\n        }\n        .tips {\n          margin-top: 12px;\n          font-size: 20px;\n          color: #b2b2b2;\n          padding: 0 0 0 16px;\n          margin-bottom: 30px;\n        }\n        .lyric-edit-box {\n          margin-bottom: 84px;\n          .first-lyric-item {\n            margin-bottom: 18px;\n            .radio {\n              margin-left: 94px;\n              display: flex;\n              align-items: center;\n              min-width: 90px;\n              color: #000;\n              font-size: 20px;\n              label {\n                cursor: pointer;\n              }\n              .icon {\n                position: relative;\n                cursor: pointer;\n                width: 20px;\n                height: 20px;\n                border-radius: 20px;\n                border: 1px solid #d8d8d8;\n                margin-right: 6px;\n              }\n              input:checked + label {\n                color: #2cabff;\n              }\n            }\n            .radio {\n              .icon {\n                min-width: 20px;\n              }\n              label {\n                min-width: 80px;\n              }\n            }\n            .selected {\n              .icon {\n                border: 1px solid #2cabff;\n              }\n              .icon::after {\n                content: '';\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                background: #2cabff;\n                width: 12px;\n                height: 12px;\n                border-radius: 50%;\n              }\n            }\n            .radio + .radio {\n              margin-left: 68px;\n            }\n          }\n          .lyric-item {\n            height: 48px;\n            color: #979797;\n            font-size: 16px;\n            line-height: 48px;\n            display: flex;\n            .title {\n              font-size: 20px;\n              color: #000;\n              min-width: 358px;\n              font-weight: 500;\n              padding-left: 16px;\n            }\n            .title + .title {\n              margin-left: 40px;\n            }\n            .text {\n              padding: 0 0 0 16px;\n              min-width: 358px;\n              border-bottom: 1px solid #e0e0e0;\n            }\n            .input {\n              position: relative;\n              min-width: 398px;\n              input {\n                margin-left: 40px;\n                display: block;\n                width: 358px;\n                height: 100%;\n                border: none;\n                outline: none;\n                border-bottom: 1px solid #e0e0e0;\n                padding-left: 16px;\n                font-size: 16px;\n              }\n            }\n            .tone-selector {\n              display: flex;\n              align-items: center;\n              min-width: 287px;\n              img {\n                cursor: pointer;\n                margin-left: 14px;\n              }\n            }\n            .error-text {\n              display: none;\n              line-height: 48px;\n              color: #da2c2c;\n              font-size: 12px;\n              position: absolute;\n              right: 0;\n              top: 0;\n              font-weight: 300;\n            }\n            .input::placeholder {\n              font-size: 16px;\n              color: #979797;\n            }\n            .selector {\n              margin-left: 94px;\n              width: 280px;\n            }\n          }\n        }\n        .bpm-input {\n          width: 150px;\n          margin: 26px 0px 80px;\n          font-size: 20px;\n          padding: 0 0 0 16px;\n        }\n        .melody-selector {\n          width: 260px;\n          margin-top: 26px;\n          padding: 0 0 0 16px;\n        }\n      }\n    }\n    .footer {\n      display: flex;\n      justify-content: center;\n      padding: 0 0 114px 0;\n      margin: 101px 0 0 0;\n      .main-button {\n        width: 200px;\n        height: 40px;\n        color: #fff;\n        font-weight: 500;\n        border-radius: 40px;\n        background: linear-gradient(to right, #44b5ff, #79d2ff);\n        display: block;\n        font-size: 18px;\n      }\n      .main-button + .main-button {\n        margin-left: 40px;\n      }\n    }\n  }\n</style>\n\n<style lang=\"less\">\n  .bpm-input {\n    input {\n      text-align: center;\n    }\n    .el-input {\n      font-size: 20px;\n    }\n  }\n  .dialog {\n    border-radius: 10px;\n    position: absolute;\n    transform: translate(-50%, -50%);\n    top: 50%;\n    left: 50%;\n    margin: 0 !important;\n    .dialog-main {\n      font-size: 22px;\n      color: #000;\n      text-align: center;\n    }\n    .dialog-confirm-button {\n      color: #fff;\n      background: linear-gradient(to right, #44b5ff, #79d2ff);\n      font-size: 18px;\n      width: 150px;\n      height: 40px;\n      border-radius: 30px;\n      margin: 40px auto 0;\n      text-align: center;\n      line-height: 40px;\n      font-weight: 500;\n      cursor: pointer;\n    }\n  }\n  .check-failed {\n    input {\n      border-color: #e02020 !important;\n      // color: #e02020;\n    }\n    input::placeholder {\n      color: #e02020;\n    }\n    .el-input__inner {\n      border-color: #e02020;\n    }\n    .el-input__inner:hover {\n      border-color: #e02020;\n    }\n    .el-select .el-input.is-focus .el-input__inner {\n      border-color: #e02020;\n    }\n    .error-text {\n      display: block !important;\n    }\n  }\n  .el-select-dropdown__item:hover {\n    background: rgba(44, 171, 255, 0.05);\n  }\n  .el-select-dropdown__item.hover, .el-select-dropdown__item:hover {\n    background: rgba(44, 171, 255, 0.05);\n  }\n  .selector {\n    .el-input__inner {\n      font-size: 16px;\n    }\n  }\n  \n  .melody-selector {\n    .el-input__inner {\n      font-size: 16px;\n    }\n  }\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=96aa483c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=96aa483c&lang=less&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"96aa483c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=less&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAVFBMVEUAAAAsrP8srP8srP8sq/8trP8sq/8tq/8trP8zv/8sq/8trP8srP8trP8srP8trP8tq/8srf8uq/8urf8urP8uq/8urf8urf8ttP8urv8vrf8sq/+Hb4TNAAAAG3RSTlMAvsT669i6noEK9/bi07Oaj4V6Tk09MhwRXl2GaxmbAAAAb0lEQVQY04XR2QqAIBQE0NE22/d1/v8/i6gbSuKADx4QryMkpszgJiPpUN7wwbR/bdN8MeEMtNG9F5yoAfIL1ACkXGxMihUjjY0HO+SRshGxBurKQRVfq/Rg8PguFwVGkuF/nukpxF+dlOzGFPIdJ64YFV0IWOmGAAAAAElFTkSuQmCC\""],"sourceRoot":""}