(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48bdd3e1"],{"0ca1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAArCAMAAADFVMEGAAAAZlBMVEUAAAAtrv8urf8trP8srP9a8f8srP8srP8srP8srP8srf8trf85vf8tq/8sq/8trP8srP8trP8srf8tq/8vr/82tv8tq/8trf8srP8urf8trf8urv8srf8trf8xrv8trf8vs/8sq/8inZQpAAAAIXRSTlMAYSjXvgP67OTNcGQK9O/TubB9dxgTt4iEalpYUT4vIhvCIfXaAAAAk0lEQVQ4y+3TyQ6DMAxFUbcEMjJD58n//5ONIGp2z93DlbKJjyJlYcq9DMcOBHo2LJlrxYL5dMzYhLFhbOZBM0Pju4pZML9hJRtzF42ajoLRcYKNHmbCRvlAhM0Uj2RoN7vZhgnntrauRKa06waXwFx4zQHTJqOAqZMxwNg/3hmT8ehfarnoKfculh6UkTsV/Y3oC3ZeMCSZyChqAAAAAElFTkSuQmCC"},2071:function(t,e,i){},"4e22":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-page"},[s("div",{staticClass:"main"},[t._m(0),s("div",{staticClass:"search-bar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWord,expression:"searchWord"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入歌曲名或者歌手名"},domProps:{value:t.searchWord},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchButtonClick(e)},input:function(e){e.target.composing||(t.searchWord=e.target.value)}}}),!0===t.searchButtonClicked?s("img",{staticClass:"delete-button",attrs:{src:i("f516"),alt:""},on:{click:t.deleteButtonClick}}):t._e(),s("button",{staticClass:"search-button",on:{click:t.searchButtonClick}},[t._v("搜索")])]),0!==t.list.length?s("div",{staticClass:"search-result"},[s("div",{staticClass:"title"},[t._v(t._s(!1===t.searchButtonClicked?"全部歌曲":"搜索结果"))]),s("div",{staticClass:"list-box"},t._l(t.list,(function(e){return s("div",{key:e.id,class:t.selected===e.music_id?"item selected":"item",on:{click:function(i){return t.itemClick(e)}}},[s("div",{staticClass:"radio"},[s("div",{staticClass:"icon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{id:e.music_id,type:"radio",hidden:""},domProps:{value:e.music_id,checked:t._q(t.selected,e.music_id)},on:{change:function(i){t.selected=e.music_id}}})]),s("div",{staticClass:"text"},[t._v(t._s(e.name)+" - "+t._s(e.singer))])])})),0),s("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.currentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),s("button",{staticClass:"confirm-button",on:{click:t.confirmButtonClick}},[t._v("确定")])],1):t._e(),0===t.list.length&&!1===t.unsearched?s("div",{staticClass:"no-result"},[s("span",[t._v("没有符合条件的搜索结果, ")]),s("span",{staticClass:"return-all",on:{click:t.resetList}},[t._v("返回全部歌曲")])]):t._e()]),s("el-dialog",{attrs:{visible:t.dialogVisible,width:"400px","custom-class":"dialog"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"dialog-main"},[t._v("请先选择歌曲在进行下一步")]),s("div",{staticClass:"dialog-confirm-button",on:{click:function(e){t.dialogVisible=!1}}},[t._v("确定")])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-title"},[s("img",{staticClass:"step",attrs:{src:i("0ca1"),alt:""}}),s("div",{staticClass:"text"},[t._v("选择要改编的歌曲")])])}],c=(i("a7cc"),i("450d"),i("df33")),n=i.n(c),r=(i("672e"),i("101e")),u=i.n(r),o=i("d722"),l=i("3dc7"),d=i("b233"),h={name:"Home",components:{"el-pagination":u.a,"el-dialog":n.a,Header:l["a"]},data:function(){return{searchButtonClicked:!1,unsearched:!0,dialogVisible:!1,currentPage:1,selected:"",list:[],searchWord:"",total:0}},mounted:function(){Object(d["c"])("search-page-exposure"),this.getList()},methods:{deleteButtonClick:function(){this.resetList()},currentChange:function(){this.getList()},getList:function(){var t=this,e={word:this.searchWord,start:10*(this.currentPage-1),count:10};Object(o["d"])(e).then((function(e){var i=e.data.data,s=i.music_list,a=i.total;t.list=s||[],t.total=a||0,t.unsearched=!1}))},itemClick:function(t){this.selected=t.music_id},resetList:function(){this.searchButtonClicked=!1,this.searchWord="",this.currentPage=1,this.getList()},searchButtonClick:function(){Object(d["c"])("search-page-search-button","search-page-search-button",{searchWord:this.searchWord}),""!==this.searchWord&&(this.currentPage=1,this.searchButtonClicked=!0,this.getList())},confirmButtonClick:function(){log("选中",this.selected),Object(d["c"])("search-page-confirm-button"),""===this.selected?this.dialogVisible=!0:(sessionStorage.setItem("draftId",""),this.$router.push("/edit/".concat(this.selected)))}}},g=h,A=(i("9038"),i("a8e2"),i("2877")),m=Object(A["a"])(g,s,a,!1,null,"1250ae39",null);e["default"]=m.exports},"8caa":function(t,e,i){},9038:function(t,e,i){"use strict";i("2071")},a8e2:function(t,e,i){"use strict";i("8caa")},d722:function(t,e,i){"use strict";i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return n})),i.d(e,"e",(function(){return r})),i.d(e,"f",(function(){return u})),i.d(e,"c",(function(){return o})),i.d(e,"g",(function(){return l})),i.d(e,"b",(function(){return d}));var s=i("a358"),a=s["a"],c=function(t){return a({method:"get",url:"/cgi-bin/musicx/kuwa/search_music",params:t})},n=function(t){return a({method:"get",url:"/cgi-bin/musicx/kuwa/get_music_edit_detail",params:{arrange_id:t}})},r=function(t){return a({method:"get",url:"/cgi-bin/musicx/kuwa/get_music_info",params:{music_id:t}})},u=function(t){return a({method:"get",url:"/cgi-bin/musicx/kuwa/get_music_ext_info",params:{music_id:t}})},o=function(t){return a({method:"post",url:"/cgi-bin/musicx/kuwa/pre_arrange_music",data:t})},l=function(t){return a({method:"post",url:"/cgi-bin/musicx/kuwa/arrange_music",data:t})},d=function(t,e){return a({method:"get",url:"/cgi-bin/musicx/kuwa/tone",params:{music_id:t,singer:e}})}},f516:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAAD1BMVEUAAACbm5uYmJiYmJiZmZlzFBvQAAAABXRSTlMAOOPpiUeIyycAAAA1SURBVAjXY3BkAAERBiEBIMWoCEIMQA4Ig9lAAsQECQoCuSABYwE4DROHq4Ppg5kDMxdmDwDYegPbDpP/UwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-48bdd3e1.4c1ffda3.js.map