(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-762c6df4"],{"02ae":function(t,e,n){"use strict";var i=n("a6fc"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"0664":function(t,e,n){"use strict";var i=n("e6d2"),a=n("4023");t.exports="".repeat||function(t){var e=String(a(this)),n="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},"0832":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAYCAMAAAC7r5/PAAAANlBMVEUAAAAcHCAdHTcdHR8cHCAdHSMmJiYeHh8dHR8cHB8cHCAeHiAfHx8dHSAcHCAdHSEcHB8cHB8bt19IAAAAEXRSTlMAxwjbrSIUU/brkHA5j86VWl6excYAAAB9SURBVDjLvdBJDoQwDETRDnFipjTU/S8LAonJKocVb11SSf/3lUanMr9apoDVP9WXOWITc/U9ALvQVKaCg/jLHhfFWw64GfhS8aBsObZ4aEcStIPRJRbUipkGPfG8AkJsUKq4QZ28CpfyoDYvC8ry2qA0rw3K8wpeEROU6xfFbyCR25ZLXAAAAABJRU5ErkJggg=="},"0984":function(t,e,n){t.exports={container:"Parameters_container_1zdeH",svg:"Parameters_svg_383J6",top:"Parameters_top_3oVUf",mark:"Parameters_mark_35yyO",drawStage:"Parameters_drawStage_12CD-",left:"Parameters_left_2ZPhH",panel:"Parameters_panel_3607u",text:"Parameters_text_1cuIf",leftTop:"Parameters_leftTop_AB1Kf",rightTop:"Parameters_rightTop_3Hjdx",leftBottom:"Parameters_leftBottom_3gFVS",rightBottom:"Parameters_rightBottom_19t-5",canvas:"Parameters_canvas_I6CoI"}},"0b63":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAATlBMVEUAAAAYGBgfHx8ZGRkZGRkZGRkZGRkZGRkZGRkaGhoYGBgZGRkZGRkZGRkYGBgYGBgXmzAXWSQXkS4XeCkXOh4YKBsYIxoXVCMXgCsYQR9FTAwfAAAAD3RSTlMAvxDZxbqikFE7813WXPKRKdCfAAABJ0lEQVRYw+2YS47CMBBE284HEhPKnS/c/6IzRAicYSQCroUXfgd4klu2XF0SYrvaFC120xam7qz8z9HgK8xRXmlKfE3Z/LUdEMVhO7QKkVQ2sJ0Qzenpq0CgepkbZX4NSDSrrgSJcr29oHG7zwY0jIgFESsORJzUIFKLAREjBYgU0oJIK9jD9XK5Yg+7dKP/ZWTp5v6m62eSbvArA0en/o4ydKN/MMbr5v6p6+donfqAhavTaN0UHnaK1mFaVAfvB9Vl4rwK6P2cWZd1WZd1WZd1b7+e1D7G7bedWqjYRp7UAlkYF1MMs4+oneYi8MmacgaRM3nFIy+g7PXYgUhHrha4xQe5luGWRuRKi1u4cetAclnJrVLJRS+/huaX5CHWfV7hu83QfgAKMlVSHX8VKwAAAABJRU5ErkJggg=="},"125d":function(t,e,n){t.exports={container:"Beat_container_2xblw"}},"134c":function(t,e,n){t.exports={container:"BeatPiano_container_2Mex_",left:"BeatPiano_left_1-vXw",white:"BeatPiano_white_1E0jy",middle:"BeatPiano_middle_3RflJ",middleWhite:"BeatPiano_middleWhite_rC7Zi",middleBlack:"BeatPiano_middleBlack_1TqWH"}},"14c1":function(t,e,n){"use strict";n("9843")},1823:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=116)}({0:function(t,e,n){"use strict";function i(t,e,n,i,a,r,s,o){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return i}))},116:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[n("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[n("span",{staticClass:"el-radio__inner"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),n("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])},a=[];i._withStripped=!0;var r=n(4),s=n.n(r),o={name:"ElRadio",mixins:[s.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){var t=this.$parent;while(t){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick((function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)}))}}},c=o,l=n(0),u=Object(l["a"])(c,i,a,!1,null,null,null);u.options.__file="packages/radio/src/radio.vue";var h=u.exports;h.install=function(t){t.component(h.name,h)};e["default"]=h},4:function(t,e){t.exports=n("aa0d")}})},"1bbe":function(t,e){t.exports="data:image/png;base64,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"},"1d51":function(t,e,n){"use strict";var i=n("aae2"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"1f58":function(t,e,n){"use strict";var i=n("e55e"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"1fdf":function(t,e,n){"use strict";var i=n("125d"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},2028:function(t,e,n){t.exports={container:"Dragger_container_3mK5r"}},"210e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAbFBMVEUAAAAYGBgfHx8YGBgZGRkZGRkZGRkZGRkZGRkaGhoZGRkZGRkZGRkYGBgXmzAXlS8XGxgXhiwXiy0XZyYXUCIXeikXMBwXKhsXXyUXQB8XOR4YIRkXkC4XgCsXcygXIxoXbSgXVyMXSCAYPB/Ud0HmAAAADXRSTlMAvRDz2cWQXFE71qKh2l9O3gAAAdtJREFUWMOtmNuSgjAMhgF11dWkLZSDHATh/d9xZ1zYUnVpIfkue/HN8DcZmgRzouM13O/Ag90+vB6j4DOnEFYSnj5ozgfYwOH86vmCjXzZ4YSwmTCaeb6BwLcxhUAifMuHmNMZyPze3QHIHJ51CAycTNLkvCNgIQqOwMIxuAALFxMRNaQ9sLAPdsDCLgAHpRKIosnAgUtUCXwSS6JI48hAE8l4EqU0UYF/aIKoTXBGITeI+iZNijvaiK5I0nRYI7rhApm/qIqXRI2/6IGL9L6iStjRKGUfxB9FroTSQQLIm3pPyS0q0fCAkQQNuW9GKU4kjkOHqK2nNCpzmE9BKektgt60xXu7lOAvqkwYb9GJVS0yVqSEGfl4jatE9f+iZo2o/VQww4ZP03YV2ZV08xaZm65bc5gJUxO+ogYn7guHbtGAhmTMW94dveZsWtW3AK2OtzStrNFCCLRQ3hlpXOTmLZJqyZOuqKNywSPyFSIou+Shk5es4kI/ui7b8IOUxdyjKb9sPY+YIgJlypkm6idRSRRVtSlCkgiyu4pj1eXggO0xyvY85nuwX4GFK9tQwzZmcQ1+bKMo13DMNq7zLhDoKw3mJQt97cO+iKKvxviXdWZ9ePFfH17s9eEP+cAAwSLzhV0AAAAASUVORK5CYII="},"21e0":function(t,e,n){t.exports={breath:"ArrowBreath_breath_2vpWL",isActive:"ArrowBreath_isActive_uyB82"}},"22ba":function(t,e,n){t.exports={container:"BeatLine_container_1pykc",isActive:"BeatLine_isActive_23xdL",line:"BeatLine_line_1MIiE",innerSpan:"BeatLine_innerSpan_3IKa9",fixed:"BeatLine_fixed_20V3Q",inner:"BeatLine_inner_1mxDz"}},"24a8":function(t,e,n){"use strict";var i=n("8fe5"),a=n("f14a"),r=n("dd95"),s=n("bbee"),o=n("2ccf"),c=n("36b2"),l=n("83d4"),u=n("3de9"),h=n("7ce6"),d=n("a447"),f=n("a34a").f,p=n("38e3").f,g=n("d320").f,A=n("f8d5").trim,m="Number",v=a[m],y=v.prototype,S=c(d(y))==m,b=function(t){var e,n,i,a,r,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=A(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+l}for(r=l.slice(2),s=r.length,o=0;o<s;o++)if(c=r.charCodeAt(o),c<48||c>a)return NaN;return parseInt(r,i)}return+l};if(r(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(S?h((function(){y.valueOf.call(n)})):c(n)!=m)?l(new v(b(e)),n,w):b(e)},B=i?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;B.length>P;P++)o(v,x=B[P])&&!o(w,x)&&g(w,x,p(v,x));w.prototype=y,y.constructor=w,s(a,m,w)}},3059:function(t,e,n){t.exports={list:"BeatMenuList_list_2d2QZ",button:"BeatMenuList_button_3MUgE",top:"BeatMenuList_top_2Sgwt",line:"BeatMenuList_line_bVnq_",bottom:"BeatMenuList_bottom_H_zxp"}},3066:function(t,e,n){t.exports={ArrowElement:"ArrowElement_ArrowElement_213RN",isActive:"ArrowElement_isActive_17xYC"}},3358:function(t,e,n){t.exports={container:"StatusBar_container_vvrSi",holder:"StatusBar_holder_3uPEC",main:"StatusBar_main_1xxCG",fixed:"StatusBar_fixed_1YjKN"}},"386e":function(t,e,n){t.exports={breath:"Breath_breath_ezxe7",isActive:"Breath_isActive_3WS5r",isRed:"Breath_isRed_30wf1"}},"408a":function(t,e,n){t.exports={container:"BeatStageBg_container_1eASZ",row:"BeatStageBg_row_13Laq",gray:"BeatStageBg_gray_2lgEj",black:"BeatStageBg_black_15Jq9",fenziCon:"BeatStageBg_fenziCon_2nhxI",column:"BeatStageBg_column_1dlnm",fenzi:"BeatStageBg_fenzi_2g8XQ",fenmu:"BeatStageBg_fenmu_3GURu"}},"43ab":function(t,e,n){"use strict";var i=n("8f57"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"447c":function(t,e,n){t.exports={container:"Drawable_container_1-wU_"}},"457d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAAdVBMVEUgICD///8AAACPj48gICA5OTliYmLx8fEvLy8gICAfHx8hISEhISEhISEgICAfHx8hISElJSUiIiLHx8e7u7taWloqKiqkpKR4eHhPT08lJSWGhoY4ODj5+fnW1ta0tLRqamohISHk5OTc3NyWlpZERESqqqr+5gOWAAAAJ3RSTlOAgACAYAmAgIB+em1jXlFJLykegICAgICAgICAgICAgIBsgICAgIB5TOIFAAABl0lEQVRYw+3Y2U6DUBSF4bUtU5kHmWmhk+//iNpzqlI1BMqKiYn/1b76QtoTyNl4GmXGoeG5mJ3rGWFsjoURlxhbPNDWSH7gUh8P56dfuQiriu44M8DKAvOTMw9Y3cH84AIQCt65CJQizaUglSrOZ3H+lUtAK3njDB5nPMHc8ritiRjEYoRMLoTB5Ax4TM6Dy+Rc/PcL1W3l0LCiFxHbImlOJtd2nOfr9qKrGNrlKLc2BK22hchZO+FxTbuTtZzT9s+6zBZZy9Vj4ztnZZm1QCuOMsXlC0+MJZNcqQ50Pptrp7mzmk7NXG4zzXX6l61IHHI1ZiwOpZodFndRc83iGjVbLK5Tc87iBjVfWJx6mdoNidPn+AUczpJFfyyqaa5c9nCoJzn98CcHs+snOeckcuwwv6Kc4lAMQ4NFObmlG872HUf4ZFM5FBmVQ9MzOX3UdC0obUSXg1N1e6GzyvdilwV4FfjzuVSMfMUjX0DJ12Py5Z28WuAuPshrGe7SiLzS4i7cuOtA8rKSu0rlLnr5a2j+kpy8wn8FtjMUemfhT0cAAAAASUVORK5CYII="},4709:function(t,e,n){"use strict";n("f9ef")},"47b8":function(t,e,n){"use strict";var i=n("1f04"),a=n("59bf").findIndex,r=n("05e7"),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},4840:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{visible:t.show,width:"400px","custom-class":"common-dialog-box","before-close":t.beforeClose,top:"15%"},on:{"update:visible":function(e){t.show=e}}},[n("div",{staticClass:"common-dialog-title"},[t._v(t._s(t.titleText))]),n("div",{staticClass:"common-dialog-tip"},[t._v(t._s(t.tipText))]),n("div",{staticClass:"common-dialog-footer"},[n("button",{staticClass:"common-confirm-button common-dialog-button",on:{click:t.confirmButtonEvent}},[t._v(t._s(t.confirmButtonText))]),n("button",{staticClass:"common-cancel-button common-dialog-button",on:{click:t.cancelButtonEvent}},[t._v(t._s(t.cancelButtonText))])])])},a=[],r=(n("62e5"),n("3d26"),n("7c6a")),s=n.n(r),o={components:{Dialog:s.a},props:{show:{type:Boolean,required:!0},titleText:{type:String,default:"确认?"},tipText:{type:String},confirmButtonText:{type:String,default:"确认"},cancelButtonText:{type:String,default:"取消"},confirmButtonEvent:{type:Function},cancelButtonEvent:{type:Function}},data:function(){return{}},methods:{beforeClose:function(){this.cancelButtonEvent()}}},c=o,l=(n("7aa7"),n("5d22")),u=Object(l["a"])(c,i,a,!1,null,null,null);e["a"]=u.exports},"48fb":function(t,e,n){"use strict";var i=n("d320").f,a=n("a447"),r=n("6b78"),s=n("0c1b"),o=n("e6a2"),c=n("01d1"),l=n("e8d3"),u=n("24a1"),h=n("8fe5"),d=n("e55c").fastKey,f=n("28d0"),p=f.set,g=f.getterFor;t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,i){o(t,u,e),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=i&&c(i,t[l],{that:t,AS_ENTRIES:n})})),f=g(e),A=function(t,e,n){var i,a,r=f(t),s=m(t,e);return s?s.value=n:(r.last=s={index:a=d(e,!0),key:e,value:n,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=s),i&&(i.next=s),h?r.size++:t.size++,"F"!==a&&(r.index[a]=s)),t},m=function(t,e){var n,i=f(t),a=d(e);if("F"!==a)return i.index[a];for(n=i.first;n;n=n.next)if(n.key==e)return n};return r(u.prototype,{clear:function(){var t=this,e=f(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,n=f(e),i=m(e,t);if(i){var a=i.next,r=i.previous;delete n.index[i.index],i.removed=!0,r&&(r.next=a),a&&(a.previous=r),n.first==i&&(n.first=a),n.last==i&&(n.last=r),h?n.size--:e.size--}return!!i},forEach:function(t){var e,n=f(this),i=s(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),r(u.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return A(this,0===t?0:t,e)}}:{add:function(t){return A(this,t=0===t?0:t,t)}}),h&&i(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(t,e,n){var i=e+" Iterator",a=g(e),r=g(i);l(t,e,(function(t,e){p(this,{type:i,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},"4fb1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAABLBAMAAABtvdEiAAAAKlBMVEUAAAD///////////////////////////////////////////////////+Gu8ovAAAADnRSTlMAywbCgDtMqnJxIqGeS8+jU04AAAA9SURBVCjPYxgFNAW8UxHsRkEnONtQUHwBjC0oKGiGxAaqQrBlFBBswQDsbGkFrHrNUO3CdAPbVIZRMAgAAHaICP8pRsnWAAAAAElFTkSuQmCC"},"529f":function(t,e,n){"use strict";var i=n("1f04"),a=n("e6d2"),r=n("8251"),s=n("0664"),o=n("7ce6"),c=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},h=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=function(t,e,n){var i=-1,a=n;while(++i<6)a+=e*t[i],t[i]=a%1e7,a=l(a/1e7)},f=function(t,e){var n=6,i=0;while(--n>=0)i+=t[n],t[n]=l(i/e),i=i%e*1e7},p=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var i=String(t[e]);n=""===n?i:n+s.call("0",7-i.length)+i}return n},g=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));i({target:"Number",proto:!0,forced:g},{toFixed:function(t){var e,n,i,o,c=r(this),l=a(t),g=[0,0,0,0,0,0],A="",m="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(A="-",c=-c),c>1e-21)if(e=h(c*u(2,69,1))-69,n=e<0?c*u(2,-e,1):c/u(2,e,1),n*=4503599627370496,e=52-e,e>0){d(g,0,n),i=l;while(i>=7)d(g,1e7,0),i-=7;d(g,u(10,i,1),0),i=e-1;while(i>=23)f(g,1<<23),i-=23;f(g,1<<i),d(g,1,1),f(g,2),m=p(g)}else d(g,0,n),d(g,1<<-e,0),m=p(g)+s.call("0",l);return l>0?(o=m.length,m=A+(o<=l?"0."+s.call("0",l-o)+m:m.slice(0,o-l)+"."+m.slice(o-l))):m=A+m,m}})},5666:function(t,e,n){"use strict";var i=n("3066"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"579e":function(t,e,n){"use strict";var i=n("0984"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"587c":function(t,e,n){"use strict";var i=n("7ec1"),a=n("48fb");t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},"58f3":function(t,e,n){},"5b12":function(t,e,n){"use strict";var i=n("9194"),a=n("d192"),r=n("baa9"),s=n("4023"),o=n("b418"),c=n("c11d"),l=n("a187"),u=n("1a58"),h=n("5a62"),d=n("7ce6"),f=[].push,p=Math.min,g=4294967295,A=!d((function(){return!RegExp(g,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(s(this)),r=void 0===n?g:n>>>0;if(0===r)return[];if(void 0===t)return[i];if(!a(t))return e.call(i,t,r);var o,c,l,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,A=new RegExp(t.source,d+"g");while(o=h.call(A,i)){if(c=A.lastIndex,c>p&&(u.push(i.slice(p,o.index)),o.length>1&&o.index<i.length&&f.apply(u,o.slice(1)),l=o[0].length,p=c,u.length>=r))break;A.lastIndex===o.index&&A.lastIndex++}return p===i.length?!l&&A.test("")||u.push(""):u.push(i.slice(p)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var a=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a,n):i.call(String(a),e,n)},function(t,a){var s=n(i,t,this,a,i!==e);if(s.done)return s.value;var h=r(t),d=String(this),f=o(h,RegExp),m=h.unicode,v=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(A?"y":"g"),y=new f(A?h:"^(?:"+h.source+")",v),S=void 0===a?g:a>>>0;if(0===S)return[];if(0===d.length)return null===u(y,d)?[d]:[];var b=0,x=0,w=[];while(x<d.length){y.lastIndex=A?x:0;var B,P=u(y,A?d:d.slice(x));if(null===P||(B=p(l(y.lastIndex+(A?0:x)),d.length))===b)x=c(d,x,m);else{if(w.push(d.slice(b,x)),w.length===S)return w;for(var E=1;E<=P.length-1;E++)if(w.push(P[E]),w.length===S)return w;x=b=B}}return w.push(d.slice(b)),w}]}),!A)},"5c00":function(t,e){t.exports="data:image/png;base64,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"},"67a5":function(t,e,n){"use strict";n("d2e2")},"67bb":function(t,e,n){"use strict";var i=n("9026"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"692c":function(t,e,n){"use strict";var i=n("6e1a"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"6a2f":function(t,e,n){},"6a8c":function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"6e1a":function(t,e,n){t.exports={PitchLine:"PitchLine_PitchLine_28qgn"}},7446:function(t,e,n){"use strict";var i=n("7ec1"),a=n("48fb");t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},"750b":function(t,e,n){},"767f":function(t,e){t.exports="data:image/png;base64,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"},"78a3":function(t,e,n){"use strict";var i=n("3059"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"7aa7":function(t,e,n){"use strict";n("bf5c")},"7ac8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAAclBMVEUAAAAYGBgfHx8ZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoYGBgZGRkYGBgYGBgXmzAXWSQYHxkXPx8XUiIXJBoXhCsXdCkXOR4Xli8XbygXZiYXiy0XKxsXkC4XSyEXRCAXMx0Xky4XaicXfCoXeSoXXyVEhXtRAAAADnRSTlMAvxDZxbqikFxRO/PW8ny7PMQAAAIASURBVFjD7Zhbl4IgFIW1q2VBCGbeL9n//4tT2BJHE1P2wzzMfnKxXJ94zgEO2+pq5ezstUu+lru2d87K+qyDTRbJPnyAHTdksTbHPm1PjLT/HbQtMdR21aGdiLFOirclAG0HcYPE70hAavK7QeE2snoJTK96tnE4+1kkBKiV5SBxjrVD4nYydMDgrZG4teUica5FoPrH9VTwTMBwLKSUlh4Ix+70pZuA4IRPG2UIXBLTty69z3AuZuOKkn7GJSmlaTIT593oCO7xGrrOw3FKx3CRHPMmcYKH10Z1SsdxgRzzp3BBlzHEeXX9ntFVDgZ6HIupDheoiklkWEM9zqNaXNSZUiiLm2lxFz3u8Y6Yip5nghNpZ4GUcnQxTgXjrpJRG+Da6LH2Xd8Ml8jnoi3y1AzHVAJymVrE7GSpZABcLp+T9mdjM5zcTEuVFYNUtHVcKXK4GKfWYKGSwrU4/s2arTqvFlpcocG1lcvUv8YT+12oxYn4SRCdFF8mcCzSpoLlOetujGIMp4CB1yh/3Hq4QZDDWUeP8Edx1UhnYOkbCu3s+Nxjm4UDnJpetKBHaVPD+19iZD5OLZQA1N9lakNH4Ejg07JiwN6Y/eVWew7ujKSdwVc88AUUfD0GX97B1gLW+ADbMljTCGxpYQ03rB0INiuxVirW6MXb0HiTHGzh/wBzTUbQhnkSPAAAAABJRU5ErkJggg=="},"7dff":function(t,e,n){"use strict";var i=n("134c"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"7ec1":function(t,e,n){"use strict";var i=n("1f04"),a=n("f14a"),r=n("dd95"),s=n("bbee"),o=n("e55c"),c=n("01d1"),l=n("e6a2"),u=n("97f5"),h=n("7ce6"),d=n("7e06"),f=n("d1d6"),p=n("83d4");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),A=-1!==t.indexOf("Weak"),m=g?"set":"add",v=a[t],y=v&&v.prototype,S=v,b={},x=function(t){var e=y[t];s(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(A&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return A&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(A&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})},w=r(t,"function"!=typeof v||!(A||y.forEach&&!h((function(){(new v).entries().next()}))));if(w)S=n.getConstructor(e,t,g,m),o.REQUIRED=!0;else if(r(t,!0)){var B=new S,P=B[m](A?{}:-0,1)!=B,E=h((function(){B.has(1)})),k=d((function(t){new v(t)})),M=!A&&h((function(){var t=new v,e=5;while(e--)t[m](e,e);return!t.has(-0)}));k||(S=e((function(e,n){l(e,S,t);var i=p(new v,e,S);return void 0!=n&&c(n,i[m],{that:i,AS_ENTRIES:g}),i})),S.prototype=y,y.constructor=S),(E||M)&&(x("delete"),x("has"),g&&x("get")),(M||P)&&x(m),A&&y.clear&&delete y.clear}return b[t]=S,i({global:!0,forced:S!=v},b),f(S,t),A||n.setStrong(S,t,g),S}},"80bf":function(t,e,n){"use strict";var i=n("e630"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},8251:function(t,e,n){var i=n("36b2");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"85ea":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAeFBMVEUgICAAAAD///+NjY0gICA5OTlHR0c6OjqCgoIoKCggICCHh4cwMDDm5uZhYWEfHx8hISEhISEhISEgICAfHx8hISElJSUiIiL09PS7u7t4eHhxcXFcXFxOTk5nZ2c/Pz+zs7N9fX3r6+vOzs6goKBqamohISFZWVlUIhxgAAAAKHRSTlOAAICAYAmAgICAf4CAgIB6bWNeUUkvKR6AgICAgICAgICAgICAgGyAyaDPuwAAAc9JREFUWMPV2N2OokAQBeAjBxpE+fFfQECccXz/N9wFBxZmdrO0VTfzXZmYnHR3dTpUYTHiHXZummCGJHV3B28xMgo6uiGshO7xL0GnDV6wOX0N2uNF+0mQt8XLtt6fIO8DAh/eELSFyLYP2kNo/ww6QezUBW0gtmmDjlBw/B3kQoG7gBdCQejhABUH7KBiB+sjKq/RLbt8OySksJM7HWIqRQIr5uw8fVlTAkvvzqcMMm990E0rKILMsLUrZPz+sEsIVV3SOYeYn0XR1UBBQfrQ0JBraAjIJRSEJGFlaS5V/KhDTK3JwComXrETGEzUZGFT5ICDYnIkJRlb5LTLaWJjLu2PYFylO2nm72s1bGl5Ibkyo79sql+NV1G3ixresZhsMNeak8u7bkjm/rC+GnPF5H2y06IrX3Ev2sVVVnfXx0TJQRXOLxkZ/Ota5f+r2Iybsq6Nv4SNiiyhISf9H/5O9CzfCZvq5xAbHhw5c71FmULVGqd1vkOodJ7O0jVlzqd3yER90BtkbtIg+dYSTDz6wza2MSmm+AzKYSf9/sH+eOn7x1VrIdSaGrU2S6vxU2tFtZpjtXZdd4AgH2loD1nkYx/9QZR8NKY/rJOPD38BgYYW8B4L60IAAAAASUVORK5CYII="},8749:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAGFBMVEUAAAD///////////////////////////8jfp1fAAAACHRSTlMAzZMFoDpgX7OBGfYAAACvSURBVEjH7dQ7CsJAFIXhgGQBJ/iog1mAWNjrCnQJ4hLcP8hUv4ThL6ZKMaebzM2XMI879PRsPOPy/R/eHs9K0SvThdFuzqFSNCdnRtdkqhTdUyig7CtF7xQKKKeB8LxQQLxBmOAFoQRiSiDmBIICEgpIKCChgIQCEgpIKCChHPIi/5z/ePsS+GL6tvgGtx8VP3R+fP0iNFwpvZx+zY8NDUNaT0sTG5fPuh329Gw7P+NrJBBvm73uAAAAAElFTkSuQmCC"},"8a2c":function(t,e,n){"use strict";n("f20a")},"8f57":function(t,e,n){t.exports={wrap:"BeatHeader_wrap_1Kd1L",blank:"BeatHeader_blank_1OYfh",header:"BeatHeader_header_2UT1a",isFloat:"BeatHeader_isFloat_1xSkO",common:"BeatHeader_common_3S0Po",commonRight:"BeatHeader_commonRight_2YiiQ",set:"BeatHeader_set_2VYQD",linefu:"BeatHeader_linefu_5dHNM",check:"BeatHeader_check_2Tq-H",isActive:"BeatHeader_isActive_G-ZLD",right:"BeatHeader_right_HWUrp",middle:"BeatHeader_middle_2V2ul",text:"BeatHeader_text_2X4Xd",fileInput:"BeatHeader_fileInput_2_Xz1"}},9026:function(t,e,n){t.exports={arrow:"Arrow_arrow_2Yi6b",right:"Arrow_right_1wIEH",left:"Arrow_left_30H2h",isActive:"Arrow_isActive_1aZHu"}},9045:function(t,e,n){t.exports={list:"BeatStageList_list_1GNt8",button:"BeatStageList_button_2tDIA",top:"BeatStageList_top_1L611",line:"BeatStageList_line_3F6QL",bottom:"BeatStageList_bottom_96JM3"}},9843:function(t,e,n){},"990f":function(t,e,n){"use strict";var i=n("e9ae"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"9c10":function(t,e,n){"use strict";var i=n("386e"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},"9ef1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"audioEditor",class:t.$style.audioEditor},[t.userInfo?t._e():n("div",{class:t.$style.panel,on:{click:t.checkLogin}}),n("BeatHeader",{attrs:{isPlaying:1==t.playState,isNeedGenerate:t.isNeedGenerate("upload")},on:{play:t.toPlay,synthesize:t.toSynthesize,openDrawer:t.toOpenDrawer,toScroll:t.toScroll}}),n("StatusBar"),n("BeatContainer",{ref:"BeatContainer"}),n("BeatSetting",{ref:"BeatSetting"}),n("CommonDialog",{attrs:{show:t.dialogShow,titleText:"为更好的提供服务,建议您使用chrome浏览器哦～",confirmButtonText:"确定",confirmButtonEvent:t.closeDialogShow,cancelButtonEvent:t.closeDialogShow}})],1)},a=[],r=n("6e8c"),s=n("0bd5"),o=(n("1f12"),n("3d26"),n("cc9f")),c=n.n(o),l=(n("1d43"),n("16ca"),n("3bae"),n("6a61"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",class:t.$style.container},[n("div",{class:t.$style.main},[n("BeatPiano"),n("div",{ref:"rightArea",class:t.$style.right},[n("div",{ref:"stage",class:t.$style.stage,attrs:{id:"audioStage"}},[n("BeatStageBg"),n("BeatLine"),n("div",{ref:"drawStage",class:t.$style.drawStage,style:{width:t.stageWidth+"px",height:t.stageHeight+"px"},attrs:{id:"drawStage"},on:{mousedown:t.onMouseDown,mousemove:t.onMouseMove,mouseup:t.onMouseUp,mouseleave:t.onMouseUp,contextmenu:function(e){return t.onRightClickStage(e)}}}),t._l(t.stagePitches,(function(e,i){return[n("div",{key:i,class:[t.$style.pitch,e.selected?t.$style.isActive:"",e.red?t.$style.isRed:""],style:{width:e.width+"px",height:e.height+"px",transform:"translate("+e.left+"px, "+e.top+"px)"},attrs:{slot:"reference","data-ref":"pitch","data-left":e.left,"data-top":e.top},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.onPitchMouseDown(e,i)},mouseup:function(e){return e.target!==e.currentTarget?null:t.onPitchMouseUp(e)},click:function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.onShiftClickPitch(e,i):null},contextmenu:[function(e){return e.stopPropagation(),e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onRightClickPitch(e,i)},function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.onShiftRightClickPitch(e,i):null}]},slot:"reference"},[t._v(" "+t._s(e.hanzi)+" "),n("Arrow",{attrs:{pitch:e,direction:"left"},on:{"move-end":function(e){return t.onArrowMoveEnd(e,i)}}}),n("Arrow",{attrs:{pitch:e,direction:"right"},on:{"move-end":function(e){return t.onArrowMoveEnd(e,i)}}}),e.breath?n("Breath",{attrs:{it:e,index:i}}):t._e()],1)]})),t.$store.state.showMenuList?n("BeatMenuList",{ref:"BeatMenuList",on:{editLyric:t.editLyric}}):t._e(),n("div",{ref:"sharp",class:t.$style.sharp}),t.$store.state.mode===t.modeState.StateLine?n("PitchLine",{ref:"PitchLine"}):t._e(),t.$store.state.mode===t.modeState.StateElement?n("PitchElement",{ref:"PitchElement"}):t._e()],2),t.$store.state.typeMode!==t.typeModeState.StateNone?n("Parameters",{ref:"Parameters"}):t._e()],1),t.$store.state.showStageList?n("BeatStageList",{ref:"BeatStageList"}):t._e()],1),n("BeatLyric",{ref:"BeatLyric",on:{showLyric:t.showLyric}}),n("LyricCorrect",{ref:"LyricCorrect",on:{saveAllPinyin:t.beatLyricSaveAllPinyin}})],1)}),u=[],h=n("4116"),d=n("8d67"),f=(n("47b8"),n("3337"),n("24a8"),n("0804")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("div",{class:[t.$style.top],style:t.style,on:{click:t.changeLine}},t._l(t.matter,(function(e){return n("div",{key:e,class:t.$style.matter,style:{width:t.beatWidth+"px"}},[t._v(t._s(e))])})),0)])},g=[],A={name:"BeatTop",computed:{matter:function(){return this.$store.state.matter},beatWidth:function(){return this.$store.getters.beatWidth},style:function(){return{left:"".concat(-this.$store.state.stage.scrollLeft,"px")}}},data:function(){return{}},methods:{changeLine:function(t){if(this.$store.state.playState!==f["d"].StatePlaying){var e=document.querySelector("#audioStage"),n=e.getBoundingClientRect(),i=t.clientX-n.left;this.$store.dispatch("changeStoreState",{lineLeft:i})}else c.a.error("正在播放中, 不能修改哦~")}}},m=A,v=n("1d51"),y=n("5d22");function S(t){this["$style"]=v["default"].locals||v["default"]}var b=Object(y["a"])(m,p,g,!1,S,null,null),x=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("div",{class:t.$style.left},[t._l(t.pitchList,(function(e){return[0===e.type&&1===e.show||0===e.type?n("div",{key:e.pitch,class:t.$style.white,on:{click:function(n){return n.stopPropagation(),t.play(e)}}},[t._v(t._s(e.str))]):t._e()]}))],2),n("div",{class:t.$style.middle},[t._l(t.pitchList,(function(e){return[0===e.type?n("div",{key:e.pitch,class:t.$style.middleWhite}):n("div",{key:e.pitch,class:t.$style.middleBlack,on:{click:function(n){return n.stopPropagation(),t.play(e)}}})]}))],2)])},B=[],P=(n("27ae"),window.AudioContext||window.webkitAudioContext),E=new P;if(1!==E.decodeAudioData.length){var k=E.decodeAudioData.bind(E);E.decodeAudioData=function(t){return new Promise((function(e,n){return k(t,e,n)}))}}var M=document.createElement("audio"),C="";M.canPlayType("audio/webm; codecs=vorbis")?C="webm":M.canPlayType("audio/mp4; codecs=mp4a.40.5")?C="m4a":M.canPlayType("audio/wav; codecs=1")&&(C="wav");var R="https://musicx-1253428821.file.myqcloud.com/files/harpsichord-c4.".concat(C);function _(t){return fetch(t).then((function(t){return t.arrayBuffer()})).then((function(t){return E.decodeAudioData(t)}))}function $(t,e){var n=E.createBufferSource();n.buffer=t,n.playbackRate.value=Math.pow(2,(e-60)/12),n.connect(E.destination),n.start(0)}var I=_(R),L=function(t){I.then((function(e){return $(e,t)}))},U={name:"BeatPiano",data:function(){return{pitchList:f["c"]}},mounted:function(){},methods:{play:function(t){L(t.pitch)}}},O=U,D=n("7dff");function X(t){this["$style"]=D["default"].locals||D["default"]}var G=Object(y["a"])(O,w,B,!1,X,null,null),H=G.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container,style:{width:t.stageWidth+"px"}},[n("div",{class:t.$style.row},[t._l(t.pitchList,(function(e){return[0===e.type?n("div",{key:e.pitch,class:t.$style.gray}):n("div",{key:e.pitch,class:t.$style.black})]}))],2),n("div",{class:t.$style.column},t._l(t.matter,(function(e){return n("div",{key:e,class:t.$style.fenziCon},t._l(t.beatForm.fenzi,(function(e){return n("div",{key:e,class:t.$style.fenzi},t._l(32/t.beatForm.fenmu,(function(e){return n("div",{key:e,class:t.$style.fenmu,style:{width:t.noteWidth+"px",height:t.stageHeight+"px"}})})),0)})),0)})),0)])},F=[],T={name:"BeatStageBg",components:{},data:function(){return{pitchList:f["c"]}},computed:{beatForm:function(){return this.$store.state.beatForm},stageWidth:function(){return this.$store.getters.stageWidth},matter:function(){return this.$store.state.matter},noteWidth:function(){return this.$store.state.noteWidth},stageHeight:function(){return this.$store.getters.stageHeight}}},z=T,V=n("ea5d");function N(t){this["$style"]=V["default"].locals||V["default"]}var Y=Object(y["a"])(z,j,F,!1,N,null,null),Q=Y.exports,W=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{class:[e.$style.container],style:{transform:"translateX("+e.lineLeft+"px)",height:e.stageHeight+"px"},on:{mousedown:function(t){return t.stopPropagation(),e.onLineMouseDown(t)},mouseup:function(t){return t.stopPropagation(),e.onLineMouseUp(t)}}},[i("div",{class:[e.$style.line,(t={},t[e.$style.fixed]=e.$store.state.isExceedHeader,t)]},[i("span",{class:[e.$style.innerSpan],style:{top:e.arrowTop+"px"}}),i("div",{class:e.$style.inner})])])},Z=[],K={name:"BeatLine",data:function(){return{isLineMouseDown:!1,left:0,startLeft:0,startX:0,eventListener:null}},computed:{stageHeight:function(){return this.$store.getters.stageHeight},lineLeft:function(){return this.$store.state.lineLeft},playState:function(){return this.$store.state.playState},arrowTop:function(){return this.$store.state.isExceedHeader?this.$store.state.appScrollTop-48-2:0}},methods:{onLineMouseDown:function(t){console.log("onLineMouseDown"),this.$store.state.isSynthetizing?c.a.error("正在合成音频中,不能修改哦~"):this.playState!==f["d"].StatePlaying?(this.isLineMouseDown=!0,this.startLeft=this.lineLeft,this.startX=t.clientX,document.addEventListener("mousemove",this.onLineMouseMove),document.addEventListener("mouseleave",this.onLineMouseUp)):c.a.error("正在播放中, 不能修改哦~")},onLineMouseMove:function(t){if(this.isLineMouseDown){var e=t.clientX-this.startX,n=this.startLeft+e;this.left=n,this.$store.dispatch("changeStoreState",{lineLeft:n})}},onLineMouseUp:function(t){if(console.log("onLineMouseUp"),document.removeEventListener("mousemove",this.onLineMouseMove),document.removeEventListener("mouseleave",this.onLineMouseUp),this.isLineMouseDown){this.isLineMouseDown=!1;var e=t.clientX-this.startX,n=this.startLeft+e;this.$store.dispatch("changeStoreState",{lineLeft:n})}}}},J=K,q=n("abdb");function tt(t){this["$style"]=q["default"].locals||q["default"]}var et=Object(y["a"])(J,W,Z,!1,tt,null,null),nt=et.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dragger",{class:[t.$style.arrow,t.$style[t.direction],t.isActive?t.$style.isActive:""],on:{"on-start":t.onStart,"on-move":t.onMove,"on-end":t.onEnd}},[i("img",{attrs:{src:n("4fb1")}})])},at=[],rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.$style.container,t.className],style:t.styles,on:{mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t.onArrowEleLeave(e)},mousedown:function(e){return e.preventDefault(),t.onMouseDown(e)}}},[t._t("default")],2)},st=[],ot={name:"Dragger",props:["className","styles"],methods:{onMouseDown:function(t){var e=this,n=t.target.getBoundingClientRect(),i=n.left,a=n.top,r=document.createElement("div");r.style.zIndex=99999,r.style.position="absolute",r.style.width="200px",r.style.height="200px",r.style.left="".concat(i-100,"px"),r.style.top="".concat(a-100,"px"),r.style.opacity=0,r.style.cursor="move",r.style.background="red";var s=function(t){r.style.left="".concat(t.clientX-100,"px"),r.style.top="".concat(t.clientY-100,"px"),e.$emit("on-move",t)},o=function t(n){r.parentNode.removeChild(r),document.removeEventListener("mousemove",s),document.removeEventListener("mouseleave",t),e.$emit("on-end",n)};document.addEventListener("mousemove",s),document.addEventListener("mouseleave",o),r.addEventListener("mouseup",o),document.body.appendChild(r),this.$emit("on-start",t)},onArrowEleLeave:function(t){console.log("onArrowEleLeave event: ".concat(t))}}},ct=ot,lt=n("9f600");function ut(t){this["$style"]=lt["default"].locals||lt["default"]}var ht=Object(y["a"])(ct,rt,st,!1,ut,null,null),dt=ht.exports,ft={name:"Arrow",components:{Message:c.a,Dragger:dt},props:["direction","pitch"],data:function(){return{isActive:!1,moveArrowStart:null,moveArrowEnd:null}},computed:{playState:function(){return this.$store.state.playState}},methods:{onStart:function(t){this.$store.state.isSynthetizing?c.a.error("正在合成音频中,不能修改哦~"):this.playState!==f["d"].StatePlaying?(this.isActive=!0,this.moveArrowStart={width:this.pitch.width,left:this.pitch.left,top:this.pitch.top,clientX:t.clientX}):c.a.error("正在播放中, 不能修改哦~")},onMove:function(t){if(this.moveArrowStart){var e=this.$el.parentNode,n=t.clientX-this.moveArrowStart.clientX,i=this.moveArrowStart.top,a=0,r=0;if("right"===this.direction)r=this.moveArrowStart.left,a=Math.max(20,this.moveArrowStart.width+n);else if("left"===this.direction&&(r=this.moveArrowStart.left+n,a=Math.max(20,this.moveArrowStart.width-n),r>this.moveArrowStart.left+this.moveArrowStart.width))return;r<0&&(r=0),e.style.width="".concat(a,"px"),e.style.transform="translate(".concat(r,"px, ").concat(i,"px)"),this.moveArrowEnd={width:a,left:r,top:i,target:e,direction:this.direction,moveArrowStart:this.moveArrowStart}}},onEnd:function(t){this.moveArrowStart&&(this.moveArrowStart=null,this.isActive=!1,this.moveArrowEnd||(this.moveArrowEnd={width:this.pitch.width,left:this.pitch.left,top:this.pitch.top,target:this.$el.parentNode,direction:this.direction,moveArrowStart:this.moveArrowStart}),this.$emit("move-end",Object(d["a"])({},this.moveArrowEnd)))}}},pt=ft,gt=n("67bb");function At(t){this["$style"]=gt["default"].locals||gt["default"]}var mt=Object(y["a"])(pt,it,at,!1,At,null,null),vt=mt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"PitchLine",class:t.$style.PitchLine,style:{height:t.stageHeight+"px",width:t.stageWidth+"px","z-index":""+t.zIndex},attrs:{id:"PitchLine"}},[n("svg",{ref:"svgStage",attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:t.stageWidth+"px",height:t.stageHeight+"px"},on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e)},mousemove:t.onMouseMove,mouseup:function(e){return e.stopPropagation(),t.onMouseUp(e)},mouseleave:t.onMouseUp}},[n("g",[n("path",{attrs:{d:t.svgData,stroke:"white",fill:"transparent","stroke-dasharray":"5,5"}}),t._l(t.divideDraw,(function(t,e){return n("path",{key:e,attrs:{d:t,stroke:"white",fill:"transparent","stroke-linejoin":"round"}})}))],2)])])},St=[],bt=(n("587c"),n("591f"),n("feb3"),n("529f"),n("4200"),n("b233")),xt={name:"PitchLine",data:function(){return{mouseStart:null,lastIndex:0,lastValue:0,lastTime:0,lastX:0,lastY:0,zIndex:998,cache:new Map}},computed:{stageWidth:function(){return this.$store.getters.stageWidth},stageHeight:function(){return this.$store.getters.stageHeight},firstPitch:function(){return this.$store.getters.firstPitch},noteHeight:function(){return this.$store.state.noteHeight},pitchWidth:function(){return this.$store.getters.pitchWidth},playState:function(){return this.$store.state.playState},svgData:function(){return this.handleData(this.$store.state.f0AI)},svgDataDraw:function(){return this.handleData(this.$store.state.f0Draw)},divideDraw:function(){return this.handleDivideDraw(this.$store.state.f0Draw)}},mounted:function(){},methods:{handleDivideDraw:function(t){for(var e=[],n=this.pitchWidth,i=this.firstPitch,a=this.noteHeight,r=0;r<t.length;r+=1){var s=t[r],o=Math.round(n*r),c=((i-s/100)*a+12.5).toFixed(2);e.push({x:o,y:c})}for(var l=Object(bt["e"])(99,e),u=[],h=0;h<l.length;h+=1){var d=l[h];h<l.length-1&&d.push(l[h+1][0]),u.push(this.toDrawSvg(d))}return u},handleData:function(t){for(var e=[],n=this.pitchWidth,i=this.firstPitch,a=this.noteHeight,r=0;r<t.length;r+=1){var s=t[r],o=Math.round(n*r),c=((i-s/100)*a+12.5).toFixed(2);e.push({x:o,y:c})}return this.toDrawSvg(e)},toDrawSvg:function(t){for(var e=[],n=0,i=0,a=0;a<t.length;a+=1)n=t[a].x,i=t[a].y,0===a&&e.push("M "),(a-1)%3==0&&e.push("C "),e.push(t[a].x),e.push(","),e.push(t[a].y),e.push(" ");if(t.length>0)for(var r=(t.length-1)%3,s=0===r?0:3-r,o=0;o<s;o+=1)e.push(n),e.push(","),e.push(i),e.push(" ");return e.join("")},onMouseDown:function(t){var e=this;if(this.$store.state.isSynthetizing)c.a.error("正在合成音频中,不能修改哦~");else if(this.playState!==f["d"].StatePlaying){this.zIndex=1001;var n=this.$refs.svgStage.getBoundingClientRect();this.mouseStart={rect:n};var i=function t(){if(e.mouseStart&&requestAnimationFrame(t),e.cache.size>0){var n=e.cache.entries();e.$store.dispatch("changeF0",{values:n}),e.cache.clear()}};i()}else c.a.error("正在播放中, 不能修改哦~")},onMouseMove:function(t){if(this.mouseStart){var e=this.mouseStart.rect,n=t.clientX-e.left,i=t.clientY-e.top-13;this.changeF0Value(n,i),this.lastTime&&this.patchValue(this.lastX,this.lastY,n,i),this.lastTime=Date.now(),this.lastX=n,this.lastY=i}},onMouseUp:function(){this.mouseStart=null,this.zIndex=998,this.lastX=0,this.lastY=0,this.lastTime=0},changeF0Value:function(t,e){var n=Math.round(t/this.pitchWidth),i=this.$store.state.f0AI;if(i){var a=i[n];if(a){var r=100*(this.firstPitch-e/this.noteHeight);this.cache.set(t,r)}}},patchValue:function(t,e,n,i){var a=n-t,r=i-e,s=r/Math.abs(a);if(a>1)for(var o=t;o<n;o+=1)this.changeF0Value(o,e+s);else if(a<-1)for(var c=n;c<t;c+=1)this.changeF0Value(c,e+s)}}},wt=xt,Bt=n("692c");function Pt(t){this["$style"]=Bt["default"].locals||Bt["default"]}var Et=Object(y["a"])(wt,yt,St,!1,Pt,null,null),kt=Et.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"PitchElement",class:t.$style.PitchElement,style:{height:t.stageHeight+"px",width:t.stageWidth+"px"}},[t._l(t.stagePitches,(function(e,i){return[n("div",{key:i,class:t.$style.container,attrs:{slot:"reference"},slot:"reference"},[n("div",{class:t.$style.fu,style:t.getFuStyles(e),attrs:{"data-ele-type":"fu"}},[t._v(" "+t._s(e.fu)+" "),n("ArrowElement",{attrs:{pitch:e,index:i,canMove:t.canMove},on:{move:function(e){return t.onArrowMove(e,i)},"move-end":function(e){return t.onArrowMoveEnd(e,i)}}})],1),n("div",{class:t.$style.yuan,style:t.getYuanStyles(i),attrs:{"data-ele-type":"yuan"}},[t._v(t._s(e.yuan))])])]}))],2)},Ct=[],Rt=(n("62f9"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dragger",{class:[t.$style.ArrowElement,t.isActive?t.$style.isActive:""],on:{"on-start":t.onStart,"on-move":t.onMove,"on-end":t.onEnd}},[i("img",{attrs:{src:n("4fb1")}})])}),_t=[],$t={name:"ArrowElement",components:{Dragger:dt,Message:c.a},props:["pitch","index","canMove"],data:function(){return{isActive:!1,moveArrowEleStart:null,moveArrowEleEnd:null}},computed:{playState:function(){return this.$store.state.playState},stagePitches:function(){return this.$store.state.stagePitches}},methods:{onStart:function(t){if(this.$store.state.isSynthetizing)c.a.error("正在合成音频中,不能修改哦~");else if(this.playState!==f["d"].StatePlaying){this.isActive=!0;var e=this.pitch.preTime;this.moveArrowEleStart={preTime:e,clientX:t.clientX},console.log("moveArrowEleStart:",JSON.stringify(this.moveArrowEleStart))}else c.a.error("正在播放中, 不能修改哦~")},onMove:function(t){if(this.moveArrowEleStart){var e=this.moveArrowEleStart.clientX,n=t.clientX,i=e-n,a=Object(bt["m"])(i,this.$store.state.noteWidth,this.$store.state.bpm),r=this.moveArrowEleStart.preTime+a,s=this.canMove(this.moveArrowEleStart.preTime,r,this.index);if(!s)return;this.moveArrowEleEnd={preTime:r},this.$emit("move",Object(d["a"])({},this.moveArrowEleEnd))}},onEnd:function(t){console.log("onArrowEleLeave"),this.moveArrowEleStart&&(this.moveArrowEleStart=null,this.isActive=!1,this.$emit("move-end",Object(d["a"])({},this.moveArrowEleEnd)))}}},It=$t,Lt=n("5666");function Ut(t){this["$style"]=Lt["default"].locals||Lt["default"]}var Ot=Object(y["a"])(It,Rt,_t,!1,Ut,null,null),Dt=Ot.exports,Xt={name:"PitchElement",data:function(){return{}},mounted:function(){},computed:{stageWidth:function(){return this.$store.getters.stageWidth},stageHeight:function(){return this.$store.getters.stageHeight},stagePitches:function(){return this.$store.state.stagePitches}},methods:{timeToPx:function(t){var e=this.$store.state,n=e.noteWidth,i=e.bpm,a=Object(bt["q"])(t,n,i);return a},getStyles:function(t,e,n){return{width:"".concat(e,"px"),height:"".concat(t.height,"px"),left:"".concat(n,"px"),top:"".concat(t.top,"px")}},getFuStyles:function(t){var e=this.timeToPx(t.preTime),n=t.left-e;return n<=0&&(n=0),this.getStyles(t,e,n)},getYuanStyles:function(t){var e=this.stagePitches[t],n=this.stagePitches[t+1],i=e.width,a=e.width+e.left;if(n){var r=n.left;a===r&&(i-=this.timeToPx(n.preTime))}return this.getStyles(e,i,e.left)},onArrowMove:function(t,e){var n=t.preTime,i=this.stagePitches[e],a=Object(d["a"])(Object(d["a"])({},i),{},{preTime:n}),r=this.getFuStyles(a),s=this.getYuanStyles(e),o=this.$el.childNodes[e],c=o.querySelector('[data-ele-type="fu"]'),l=o.querySelector('[data-ele-type="yuan"]');Object.keys(r).forEach((function(t){c.style[t]=r[t]})),Object.keys(s).forEach((function(t){l.style[t]=s[t]}))},canMove:function(t,e,n){if(e<=20)return!1;if(n<=0)return!0;var i=this.$store.state,a=i.noteWidth,r=i.bpm,s=this.stagePitches[n],o=this.stagePitches[n-1],c=o.left+o.width,l=Object(bt["q"])(t,a,r),u=s.left-l,h=s.left-Object(bt["q"])(e,a,r);if(c<=u){if(h<c)return!1}else if(h<o.left+a)return!1;return!0},onArrowMoveEnd:function(t,e){var n=t.preTime;console.log("onArrowMoveEnd, preTime:".concat(n),e);var i=this.stagePitches[e];i.preTime=n,this.$store.dispatch("changeStoreState",{isStagePitchElementChanged:!0})}},components:{ArrowElement:Dt}},Gt=Xt,Ht=n("1f58");function jt(t){this["$style"]=Ht["default"].locals||Ht["default"]}var Ft=Object(y["a"])(Gt,Mt,Ct,!1,jt,null,null),Tt=Ft.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"编辑歌词",visible:t.lyricVisible,"close-on-click-modal":!1,"custom-class":"lyric-dialog"},on:{"update:visible":function(e){t.lyricVisible=e}}},[n("Form",{ref:"lyricForm",attrs:{rules:t.rule,model:t.lyricForm}},[n("FormItem",{attrs:{prop:"lyric"}},[n("Input",{attrs:{type:"textarea",placeholder:"请输入歌词",maxlength:t.maxlength,rows:7,"show-word-limit":""},model:{value:t.lyricForm.lyric,callback:function(e){t.$set(t.lyricForm,"lyric",e)},expression:"lyricForm.lyric"}})],1),n("span",{staticClass:"text"},[t._v("注：输入“-”号，即表示延续之前的字的尾音")])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:t.toCorrect}},[t._v("拼音校正")]),n("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)],1)},Vt=[],Nt=(n("82fb"),n("0406")),Yt=n.n(Nt),Qt=(n("5913"),n("f9b9")),Wt=n.n(Qt),Zt=(n("cb95"),n("5de1")),Kt=n.n(Zt),Jt=(n("4732"),n("325d")),qt=n.n(Jt),te=(n("62e5"),n("7c6a")),ee=n.n(te),ne=(n("5b12"),n("9b5f"),n("4cd5"),n("e3b5"),n("bf2f"),n("dfe3")),ie=(n("b3b0"),function(t,e,n){var i=parseInt(e),a=/^\d+$/;!a.test(i)||i<1?n(new Error("必须为正整数")):n()}),ae=function(t,e,n){var i=[2,4,8,16];i.includes(parseInt(e))?n():n(new Error("只能为2,4,8或16"))},re=function(t,e,n){for(var i=e.split(""),a=/^((?![\u3000-\u303F])[\u2E80-\uFE4F]|\·)*(?![\u3000-\u303F])[\u2E80-\uFE4F](\·)*$/,r=0;r<i.length;r+=1){var s=i[r];if("-"!==s&&!a.test(s))return void n(new Error("必须为中文或者“-”"))}n()},se={name:"BeatLyric",data:function(){return{lyricVisible:!1,maxlength:1,lyricForm:{lyric:""},index:-1,rule:{lyric:[{required:!0,message:"请输入歌词,且必须为中文或者“-”",trigger:"blur",validator:re}]}}},components:{Dialog:ee.a,Button:qt.a,Input:Kt.a,Message:c.a,Form:Wt.a,FormItem:Yt.a},computed:{lyricArray:function(){return this.lyricForm.lyric.split("")},stagePitches:function(){return this.$store.state.stagePitches}},methods:{showLyric:function(t){console.log("showLyric index:",t),this.lyricVisible=!0,this.index=t,this.setLyric(t)},setLyric:function(t){var e="";-1===t?this.stagePitches.forEach((function(t){e+=t.hanzi})):this.stagePitches.forEach((function(t){t.selected&&(e+=t.hanzi)})),this.lyricForm.lyric=e,this.maxlength=this.lyricArray.length},submit:function(){var t=this;this.$refs.lyricForm.validate((function(e){e?t.checkPitch()&&(t.checkFisrtPitch()?(t.saveStagePitches(),t.lyricVisible=!1):c.a.error("第一个音符不可以输入“-”")):c.a.error("请全部填写完整并正确再提交")}))},checkFisrtPitch:function(){var t=!0;if(-1===this.index)"-"===this.lyricArray[0]&&(t=!1);else{var e=[];this.stagePitches.forEach((function(t,n){t.selected&&e.push(n)})),"-"===this.lyricArray[0]&&0===e[0]&&(t=!1)}return t},checkPitch:function(){var t=this,e=!0,n=this.lyricArray;return-1!==n.indexOf("-")&&n.findIndex((function(n,i,a){var r=-1===t.index?i:t.getIndex(i);if("-"===n&&r-1>=0){var s=t.stagePitches.find((function(t,e){return e===r-1})),o=t.stagePitches.find((function(t,e){return e===r}));if(s.left+s.width!==o.left)return c.a.error("第".concat(r,"个字符是连音符“-”,请确保其前面有连续音符")),void(e=!1)}})),e},getIndex:function(t){for(var e=[],n=(this.stagePitches.filter((function(t){return t.selected})),0);n<this.stagePitches.length;n+=1)this.stagePitches[n].selected&&e.push(n);return e[t]},saveStagePitches:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPinyin();case 2:t.save();case 3:case"end":return e.stop()}}),e)})))()},getPinyin:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["a"])({hanziList:t.lyricArray});case 2:for(n=e.sent,i=n.data.data.pinyinList,a=0;a<t.maxlength;a+=1)Object(bt["j"])(t.lyricArray[a])||i.splice(a,0,{hanzi:t.lyricArray[a],pinyin:[t.lyricArray[a]]});return t.$store.dispatch("changeStoreState",{pinyinList:i}),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))()},save:function(){var t=this.stagePitches,e=this.$store.state.pinyinList;this.lyricArray;if(-1===this.index)for(var n=0;n<this.maxlength;n+=1){var i=t[n];i.hanzi!==this.lyricArray[n]?i.pitchChanged=!0:i.pitchChanged=!1,i.hanzi=this.lyricArray[n]||"啦",i.pinyinList=e[n].pinyin||["la"],i.pinyin=e[n].pinyin[i.select]||"la"}else for(var a=this.stagePitches.filter((function(t){return t.selected})),r=0;r<a.length;r+=1){var s=a[r];s.hanzi!==this.lyricArray[r]?s.pitchChanged=!0:s.pitchChanged=!1,s.hanzi=this.lyricArray[r],s.pinyinList=e[r].pinyin||["la"],s.pinyin=e[r].pinyin[s.select]||"la"}this.$store.dispatch("saveFuYuan"),this.$store.dispatch("getPitchLine")},checkComplexPinyin:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!1,e.next=3,t.getPinyin();case 3:i=e.sent,a=0;case 5:if(!(a<i.length)){e.next=12;break}if(!(i[a].pinyin.length>1)){e.next=9;break}return n=!0,e.abrupt("break",12);case 9:a+=1,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))()},toCorrect:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkComplexPinyin();case 2:if(n=e.sent,n){e.next=6;break}return c.a.warning("没有多音字，无需校正~"),e.abrupt("return");case 6:i=-1===t.index?t.stagePitches:t.stagePitches.filter((function(t){return t.selected})),t.$emit("showLyric",i);case 8:case"end":return e.stop()}}),e)})))()}}},oe=se,ce=(n("bd60"),Object(y["a"])(oe,zt,Vt,!1,null,null,null)),le=ce.exports,ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"拼音校正",visible:t.pinyinVisible,"custom-class":"correct-dialog"},on:{"update:visible":function(e){t.pinyinVisible=e}}},[n("div",{staticClass:"pinyinInput"},t._l(t.correctSelectStagePitches,(function(e,i){return n("div",{key:i,staticClass:"list"},[t._v(" "+t._s(e.hanzi)+" "),e.pinyinList.length>1?[t._v(" [ "),t._l(e.pinyinList,(function(i,a){return n("Radio",{key:a,attrs:{label:a},on:{change:function(n){return t.changeSelect(n,e.uuid)}},model:{value:e.select,callback:function(n){t.$set(e,"select",n)},expression:"it.select"}},[t._v(t._s(i)+" ")])})),t._v(" ] ")]:t._e()],2)})),0),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:t.toBack}},[t._v("返回歌词")]),n("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])},he=[],de=(n("f47b"),n("1823")),fe=n.n(de),pe={name:"LyricCorrect",data:function(){return{pinyinVisible:!1,selectStagePitches:[],correctSelectStagePitches:[]}},components:{Dialog:ee.a,Button:qt.a,Radio:fe.a},computed:{stagePitches:function(){return this.$store.state.stagePitches}},methods:{showLyric:function(t){this.pinyinVisible=!0,this.selectStagePitches=t,this.setCorrectSelectStagePitches()},setCorrectSelectStagePitches:function(){for(var t=this.$store.state.pinyinList,e=this.selectStagePitches,n=[],i=0;i<e.length;i+=1){var a=e[i],r=a.pinyin;a.pinyinList=t[i].pinyin;var s=0;if(a.pinyinList.length>1)for(var o=0;o<a.pinyinList.length;o+=1)a.pinyinList[o]===r&&(s=o);a.hanzi=t[i].hanzi,a.select=s,n.push(a)}this.correctSelectStagePitches=n},submit:function(){this.$emit("saveAllPinyin"),this.pinyinVisible=!1},toBack:function(){this.pinyinVisible=!1},changeSelect:function(t,e){this.$store.state.stagePitches.forEach((function(n){n.uuid===e&&(n.select=t)}))}}},ge=pe,Ae=(n("fe3e"),Object(y["a"])(ge,ue,he,!1,null,null,null)),me=Ae.exports,ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.list,style:{left:t.left+"px",top:t.top+"px"}},[i("img",{attrs:{src:n("0832")}}),i("div",{class:[t.$style.button,t.$style.top],on:{click:function(e){return e.stopPropagation(),t.deletePitch(e)}}},[t._v("删除")]),i("div",{class:[t.$style.button,t.$style.line],on:{click:function(e){return e.stopPropagation(),t.copy(e)}}},[t._v("复制")]),i("div",{class:[t.$style.button,t.$style.top],on:{click:function(e){return e.stopPropagation(),t.editLyric(-2)}}},[t._v("编辑歌词")]),i("div",{class:[t.$style.button,t.$style.bottom,t.$style.line],on:{click:function(e){return e.stopPropagation(),t.editLyric(-1)}}},[t._v("全量编辑歌词")]),"cancel"===t.showBreath?i("div",{class:[t.$style.button,t.$style.top,t.$style.bottom],on:{click:function(e){return e.stopPropagation(),t.cancelBreath(e)}}},[t._v("取消换气")]):t._e(),"insert"===t.showBreath?i("div",{class:[t.$style.button,t.$style.top,t.$style.bottom],on:{click:function(e){return e.stopPropagation(),t.insertBreath(e)}}},[t._v("插入换气")]):t._e()])},ye=[],Se=(n("7446"),function(t,e,n){var i,a=Object(d["a"])({},t.$store.state.changedLineMap),s=new Set,o={},c=100/t.$store.state.noteHeight,l=e[0].before,u=e[0].after,h=l.top-u.top,p=u.left-l.left,g=l.left,A=l.left+l.width,m=g,v=A,y=Object(r["a"])(e);try{for(y.s();!(i=y.n()).done;){var S=i.value.before;m=Math.min(m,S.left),v=Math.max(v,S.left+S.width)}}catch(b){y.e(b)}finally{y.f()}Object.keys(a).map(Number).filter((function(t){return t>=m&&t<=v})).forEach((function(e){var n=a[e],i=e+p,r=n+c*h,l=t.$store.getters.firstPitch;r>100*l&&(r=100*l);var u=f["c"][f["c"].length-1].pitch;r<100*u&&(r=100*u),s.add(e),o[i]=r})),n&&s.forEach((function(t){delete a[t]})),t.$store.state.changedLineMap=Object(d["a"])(Object(d["a"])({},a),o)}),be=function(t,e,n){var i=[],a=n.$store.state.noteWidth,r=n.$store.state.noteHeight;return t.forEach((function(s){var o={};o=s.breath?s.breath&&""===s.breath.pinyin?null:{left:Object(bt["q"])(s.breath.startTime,a,t[0].bpm),width:Object(bt["q"])(s.breath.duration,a,t[0].bpm),pinyin:"br"}:null,i.push({hanzi:s.hanzi,pinyin:s.pinyin,red:!1,height:r,width:"grid"===e?s.duration*a:Object(bt["q"])(s.duration,a,t[0].bpm),left:"grid"===e?s.startTime*a:Object(bt["q"])(s.startTime,a,t[0].bpm),top:r*(n.$store.getters.firstPitch-s.pitch),pinyinList:s.pinyinList,select:s.select,preTime:s.preTime,fu:s.fu,yuan:s.yuan,breath:o,selected:!1,uuid:Object(bt["f"])()})})),console.log("pitchList2StagePitches:",i),i},xe=function(t){var e=t.$store.state.stagePitches.filter((function(t){var e=t.selected;return!e})),n=t.$store.state.stagePitches.filter((function(t){var e=t.selected;return e})),i=Object(d["a"])({},t.$store.state.changedLineMap),a=n[0].left,r=n[0].left+n[0].width;n.forEach((function(t){a=Math.min(a,t.left),r=Math.max(r,t.left+t.width)})),Object.keys(i).map(Number).filter((function(t){return t>=a&&t<=r})).forEach((function(t){delete i[t]})),t.$store.state.changedLineMap=Object(d["a"])({},i),t.$store.dispatch("changeStoreState",{stagePitches:e}),t.$store.dispatch("afterChangePitchAndHandle")},we={name:"BeatMenuList",components:{},data:function(){return{left:0,top:0}},computed:{stagePitches:function(){return this.$store.state.stagePitches},showBreath:function(){var t="",e=this.stagePitches.filter((function(t){return t.selected}));1===e.length&&e[0].breath&&(t="cancel");for(var n=!1,i=0;i<this.stagePitches.length;i+=1){var a=this.stagePitches[i];if(a.selected)if(0===i)n=!0;else{var r=this.stagePitches[i-1];r.left+r.width!==a.left&&(n=!0)}}return 1===e.length&&!e[0].breath&&n&&(t="insert"),t}},methods:{setPosition:function(t,e){this.left=t,this.top=e},deletePitch:function(){xe(this),this.$store.dispatch("changeStoreState",{showMenuList:!1})},editLyric:function(t){this.$emit("editLyric",t),this.$store.dispatch("changeStoreState",{showMenuList:!1})},copy:function(){c.a.success("复制成功~");var t=this.stagePitches.filter((function(t){return t.selected}));this.$store.dispatch("changeStoreState",{copyStagePitches:t}),this.$store.dispatch("changeStoreState",{showMenuList:!1})},insertBreath:function(){var t=this,e=this.stagePitches.filter((function(t){return t.selected}));e.forEach((function(e){t.$set(e,"breath",{left:e.left-t.$store.state.noteWidth,width:t.$store.state.noteWidth,pinyin:"br"})}))},cancelBreath:function(){var t=this.stagePitches.filter((function(t){return t.selected}));t.forEach((function(t){t.breath=null}))}}},Be=we,Pe=n("78a3");function Ee(t){this["$style"]=Pe["default"].locals||Pe["default"]}var ke=Object(y["a"])(Be,ve,ye,!1,Ee,null,null),Me=ke.exports,Ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.list,style:{left:t.left+"px",top:t.top+"px"}},[i("img",{attrs:{src:n("0832")}}),i("div",{class:[t.$style.button,t.$style.top,t.$style.bottom],on:{click:function(e){return e.stopPropagation(),t.toPaste(e)}}},[t._v("粘贴")])])},Re=[],_e={name:"BeatStageList",data:function(){return{left:0,top:0,pos:{}}},computed:{stagePitches:function(){return this.$store.state.stagePitches}},methods:{setPosition:function(t,e,n){this.left=t,this.top=e,this.pos=n},toPaste:function(){this.$store.dispatch("resetStagePitchesSelect");var t=this.$store.state.copyStagePitches;if(0!==t.length){for(var e=t[0],n=this.pos.x-e.left,i=this.pos.y-e.top,a=[],r=0;r<t.length;r+=1){var s=t[r],o=Object(bt["a"])(s.left+n,this.$store.state.noteWidth),l=Object(bt["b"])(s.top+i,this.$store.state.noteHeight),u={left:o,top:l,selected:!0,uuid:Object(bt["f"])(),breath:s.breath?{left:o-s.breath.width,width:s.breath.width,pinyin:"br"}:s.breath},h=Object.assign({},s,u);a.push({before:s,after:h}),this.stagePitches.push(h)}Se(this,a),this.$store.dispatch("changeStoreState",{showStageList:!1}),this.$store.dispatch("afterChangePitchAndHandle")}else c.a.error("没有复制东西，快去复制把~")}}},$e=_e,Ie=n("b182");function Le(t){this["$style"]=Ie["default"].locals||Ie["default"]}var Ue=Object(y["a"])($e,Ce,Re,!1,Le,null,null),Oe=Ue.exports,De=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.container},[i("div",{class:t.$style.top},[i("span",{class:t.$style.left},[t._v(t._s(t.typeName))]),i("img",{style:{left:t.clientWidth-86+"px"},attrs:{src:n("8749")},on:{click:function(e){return e.stopPropagation(),t.closeParameter(e)}}})]),i("div",{class:t.$style.mark},[i("span",{class:[t.$style.text,t.$style.leftTop]},[t._v(t._s(t.typeParas.plus))]),i("span",{class:[t.$style.text,t.$style.rightTop],style:{left:t.clientWidth-105+"px"}},[t._v(t._s(t.typeParas.plus))]),i("span",{class:[t.$style.text,t.$style.leftBottom]},[t._v(t._s(t.typeParas.minus))]),i("span",{class:[t.$style.text,t.$style.rightBottom],style:{left:t.clientWidth-105+"px"}},[t._v(t._s(t.typeParas.minus))])]),i("div",{class:t.$style.drawStage},[i("Drawable",{attrs:{className:t.$style.draw,styles:t.stageStyle,valueHandler:t.valueHandler},on:{"on-draw":t.onDraw}},[i("svg",{class:t.$style.svg,attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[i("g",[i("path",{attrs:{d:t.f0Init,stroke:"gray",fill:"transparent","stroke-linejoin":"round"}}),t.typeMode===t.typeModeState.StateVolume?i("path",{attrs:{d:t.volumeMap,stroke:"white",fill:"transparent","stroke-linejoin":"round"}}):t._e(),t.typeMode===t.typeModeState.StateTension?i("path",{attrs:{d:t.tensionMap,stroke:"white",fill:"transparent","stroke-linejoin":"round"}}):t._e()])])])],1)])},Xe=[],Ge=(n("a219"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.$style.container,t.className],style:t.styles,on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e)},mousemove:t.onMouseMove,mouseup:function(e){return e.stopPropagation(),t.onMouseUp(e)},mouseleave:t.onMouseUp}},[t._t("default")],2)}),He=[],je={name:"Drawable",props:["className","styles","beforeDraw","valueHandler"],data:function(){return{mouseStart:null,cache:new Map,lastX:0,lastY:0,lastTime:0}},computed:{playState:function(){return this.$store.state.playState}},methods:{onMouseDown:function(t){var e=this;if(this.playState!==f["d"].StatePlaying){if(!this.beforeDraw||!1!==this.beforeDraw()){var n=this.$el.getBoundingClientRect();this.mouseStart={rect:n};var i=function t(){if(e.mouseStart&&requestAnimationFrame(t),e.cache.size>0){var n=e.cache.entries();e.$emit("on-draw",n),e.cache.clear()}};i()}}else c.a.error("正在播放中, 不能修改哦~")},onMouseMove:function(t){if(this.mouseStart){var e=this.mouseStart.rect,n=t.clientX-e.left,i=t.clientY-e.top;i<0&&(i=0),this.changeValue(n,i),this.lastTime&&this.patchValue(this.lastX,this.lastY,n,i),this.lastTime=Date.now(),this.lastX=n,this.lastY=i}},onMouseUp:function(){this.mouseStart=null,this.lastX=0,this.lastY=0,this.lastTime=0},changeValue:function(t,e){if(this.valueHandler){var n=this.valueHandler(t,e);this.cache.set(t,n)}else this.cache.set(t,e)},patchValue:function(t,e,n,i){var a=n-t,r=i-e,s=r/Math.abs(a);if(a>1)for(var o=t;o<n;o+=1)this.changeValue(o,e+s);else if(a<-1)for(var c=n;c<t;c+=1)this.changeValue(c,e+s)}}},Fe=je,Te=n("d2b5");function ze(t){this["$style"]=Te["default"].locals||Te["default"]}var Ve=Object(y["a"])(Fe,Ge,He,!1,ze,null,null),Ne=Ve.exports,Ye={name:"Parameters",components:{Drawable:Ne},data:function(){return{typeModeState:f["f"]}},computed:{clientWidth:function(){return document.documentElement.clientWidth},stageWidth:function(){return this.$store.getters.stageWidth},typeMode:function(){return this.$store.state.typeMode},pitchWidth:function(){return this.$store.getters.pitchWidth},typeContainerHeight:function(){return this.$store.state.typeContainerHeight},typeName:function(){var t=this.typeMode;switch(t){case f["f"].StateVolume:return"响度";case f["f"].StateTension:return"张力";default:return""}},typeParas:function(){var t=this.typeMode;switch(t){case f["f"].StateVolume:return{plus:"+12 dB",minus:"-12 dB"};case f["f"].StateTension:return{plus:"紧张",minus:"放松"};default:return{}}},typeRange:function(){var t=this.typeMode;switch(t){case f["f"].StateVolume:return 2400;case f["f"].StateTension:return 200;default:return 100}},stageStyle:function(){return{width:"".concat(this.stageWidth,"px"),left:"-".concat(this.$store.state.stage.scrollLeft,"px"),height:"".concat(this.typeContainerHeight,"px")}},f0Init:function(){var t="M 0,125 L ".concat(this.stageWidth,",125 ");return t},volumeMap:function(){return this.formatSvgPath(this.$store.state.volumeMap)},tensionMap:function(){return this.formatSvgPath(this.$store.state.tensionMap)}},methods:{onDraw:function(t){this.typeMode===f["f"].StateVolume?this.$store.dispatch("changeVolumeMap",{values:t}):this.typeMode===f["f"].StateTension&&this.$store.dispatch("changeTensionMap",{values:t})},positionY2Db:function(t){var e=this.typeRange/this.typeContainerHeight;return t>this.typeContainerHeight/2?-e*(t-this.typeContainerHeight/2):t<this.typeContainerHeight/2?this.typeRange/2-e*t:0},db2PositionY:function(t){var e=this.typeContainerHeight/this.typeRange,n=this.typeContainerHeight/2;return t>0?n=this.typeContainerHeight/2-e*t:t<0&&(n=Math.abs(e*t)+this.typeContainerHeight/2),n},formatSvgPath:function(t){for(var e=[],n=0;n<t.length;n+=1){var i=Math.round(this.pitchWidth*n),a=t[i];null!==a&&void 0!==a||(a=0);var r=this.db2PositionY(a);e.push({x:i,y:r})}return this.drawFormatData(e)},drawFormatData:function(t){for(var e="",n=0;n<t.length;n+=1){var i=t[n].x,a=t[n].y;0===n&&(e+="M "),(n-1)%3===0&&(e+="C "),e+="".concat(i,",").concat(a," ")}if(t.length>0){for(var r=Math.round(t[t.length-1].x),s=(t.length-1)%3,o=0===s?0:3-s,c=0;c<o;c+=1)e+="".concat(r,",125 ");e+="L ".concat(r,",125 ").concat(this.stageWidth,",125 ")}return e.trimRight()},valueHandler:function(t,e){return this.positionY2Db(e)},closeParameter:function(){this.$store.dispatch("changeStoreState",{typeMode:f["f"].StateNone})}}},Qe=Ye,We=n("579e");function Ze(t){this["$style"]=We["default"].locals||We["default"]}var Ke=Object(y["a"])(Qe,De,Xe,!1,Ze,null,null),Je=Ke.exports,qe=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{class:e.$style.container},[e.isFixed?i("div",{class:e.$style.holder}):e._e(),i("div",{class:[e.$style.main,(t={},t[e.$style.fixed]=e.isFixed,t)]},[i("Beat"),i("BeatTop")],1)])},tn=[],en=n("7736"),nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},[n("div",{on:{click:t.toShowBeat}},[t._v(" "+t._s(t.beatForm.fenzi)+"/"+t._s(t.beatForm.fenmu)+" ")]),n("BeatSelector",{ref:"BeatSelector"})],1)},an=[],rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"编辑拍号",visible:t.dialogVisible,"custom-class":"beatSelector",width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("Form",{ref:"ruleForm",attrs:{"label-position":"top",rules:t.rules,"label-width":"80px",model:t.beatForm}},[n("FormItem",{attrs:{label:"分子",prop:"fenzi"}},[n("InputNumber",{model:{value:t.beatForm.fenzi,callback:function(e){t.$set(t.beatForm,"fenzi",e)},expression:"beatForm.fenzi"}})],1),n("FormItem",{attrs:{label:"分母",prop:"fenmu"}},[n("InputNumber",{model:{value:t.beatForm.fenmu,callback:function(e){t.$set(t.beatForm,"fenmu",e)},expression:"beatForm.fenmu"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("Button",{attrs:{type:"primary"},on:{click:t.toSubmitBeat}},[t._v("确 定")])],1)],1)},sn=[],on=(n("3d17"),n("9851")),cn=n.n(on),ln={name:"BeatSelector",components:{Dialog:ee.a,Form:Wt.a,FormItem:Yt.a,InputNumber:cn.a,Button:qt.a,Message:c.a},data:function(){return{dialogVisible:!1,beatForm:{fenzi:0,fenmu:0},rules:{fenzi:[{required:!0,message:"请输入分子,且必须为正整数",trigger:"blur",validator:ie}],fenmu:[{required:!0,message:"请输入分母,只能为2,4,8或16",trigger:"blur",validator:ae}]}}},computed:{stageWidth:function(){return this.$store.getters.stageWidth}},methods:{toSubmitBeat:function(){var t=this;this.$refs.ruleForm.validate((function(e){e?(t.$store.dispatch("updateBeatForm",t.beatForm),t.dialogVisible=!1,t.toUpdateStage()):c.a.error("请全部填写完整并正确再提交")}))},toUpdateStage:function(){var t=this.$store.state.stage.width;console.log("stageConWidth: ".concat(t,", this.stageWidth: ").concat(this.stageWidth));while(t>this.stageWidth)this.$store.dispatch("updateMatter",15);this.$store.dispatch("adjustStageWidth")},showBeatDialog:function(){this.beatForm=Object(d["a"])({},this.$store.state.beatForm),this.dialogVisible=!0}}},un=ln,hn=(n("8a2c"),Object(y["a"])(un,rn,sn,!1,null,null,null)),dn=hn.exports,fn={name:"Beat",components:{BeatSelector:dn},computed:{beatForm:function(){return this.$store.state.beatForm},isExceedHeader:function(){return this.$store.state.isExceedHeader}},data:function(){return{}},methods:{toShowBeat:function(){this.$store.state.isSynthetizing?c.a.error("正在合成音频中,不能修改哦~"):this.$store.state.playState!==f["d"].StatePlaying?this.$refs.BeatSelector.showBeatDialog():c.a.error("正在播放中, 不能修改哦~")}}},pn=fn,gn=n("1fdf");function An(t){this["$style"]=gn["default"].locals||gn["default"]}var mn=Object(y["a"])(pn,nn,an,!1,An,null,null),vn=mn.exports,yn={name:"StatusBar",components:{Beat:vn,BeatTop:x},computed:Object(d["a"])({},Object(en["b"])({isFixed:"isExceedHeader"}))},Sn=yn,bn=n("dba6");function xn(t){this["$style"]=bn["default"].locals||bn["default"]}var wn=Object(y["a"])(Sn,qe,tn,!1,xn,null,null),Bn=wn.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.$style.breath,t.it.selected?t.$style.isActive:"",t.it.red?t.$style.isRed:""],style:t.getStyle(t.it)},[t._v(" "+t._s(t.it.breath.pinyin)+" "),n("ArrowBreath",{attrs:{pitch:t.it,index:t.index,canMove:t.canMove},on:{move:function(e){return t.onArrowBreathMove(e,t.index)},"move-end":function(e){return t.onArrowBreathMoveEnd(e,t.index)}}})],1)},En=[],kn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dragger",{class:[t.$style.breath,t.isActive?t.$style.isActive:""],on:{"on-start":t.onStart,"on-move":t.onMove,"on-end":t.onEnd}},[i("img",{attrs:{src:n("4fb1")}})])},Mn=[],Cn={name:"Breath",components:{Dragger:dt,Message:c.a},props:["pitch","index","canMove"],data:function(){return{isActive:!1,moveArrowBreathStart:null,moveArrowBreathEnd:null}},computed:{playState:function(){return this.$store.state.playState}},methods:{onStart:function(t){this.$store.state.isSynthetizing?c.a.error("正在合成音频中,不能修改哦~"):this.playState!==f["d"].StatePlaying?(this.isActive=!0,this.moveArrowBreathStart={left:this.pitch.breath.left,width:this.pitch.breath.width,clientX:t.clientX}):c.a.error("正在播放中, 不能修改哦~")},onMove:function(t){if(this.moveArrowBreathStart){var e=this.$el.parentNode,n=this.moveArrowBreathStart.clientX,i=t.clientX,a=n-i,r=this.moveArrowBreathStart.left-a,s=this.moveArrowBreathStart.width+a,o=this.canMove(r);if(!o)return;this.moveArrowBreathEnd={left:r,width:s,target:e},this.$emit("move",Object(d["a"])({},this.moveArrowBreathEnd))}},onEnd:function(t){this.moveArrowBreathStart&&(this.moveArrowBreathStart=null,this.isActive=!1,this.$emit("move-end",Object(d["a"])({},this.moveArrowBreathEnd)))}}},Rn=Cn,_n=n("cdea");function $n(t){this["$style"]=_n["default"].locals||_n["default"]}var In=Object(y["a"])(Rn,kn,Mn,!1,$n,null,null),Ln=In.exports,Un={name:"Breath",components:{ArrowBreath:Ln,Message:c.a},props:["it","index"],data:function(){return{}},computed:{stagePitches:function(){return this.$store.state.stagePitches}},methods:{getStyle:function(t){return{width:"".concat(t.breath.width,"px"),height:"".concat(t.height,"px"),left:"".concat(t.breath.left-t.left,"px")}},onArrowBreathMove:function(t,e){var n=t.left,i=t.width,a=t.target,r=this.stagePitches[e];r.breath.left=n,r.breath.width=i;var s=this.getStyle(r);Object.keys(s).forEach((function(t){a.style[t]=s[t]}))},onArrowBreathMoveEnd:function(t,e){var n=t.left,i=t.width;console.log("onArrowBreathMoveEnd: ".concat(e,", left: ").concat(n,", width: ").concat(i));var a=this.stagePitches[e];a.breath.left=n,a.breath.width=i},canMove:function(t){if(t>this.it.left-this.$store.state.noteWidth)return!1;var e=this.stagePitches[this.index-1],n=0;return e&&(n=e.left+e.width),!(t<=n)}}},On=Un,Dn=n("9c10");function Xn(t){this["$style"]=Dn["default"].locals||Dn["default"]}var Gn=Object(y["a"])(On,Pn,En,!1,Xn,null,null),Hn=Gn.exports,jn={name:"BeatContainer",components:{BeatTop:x,Message:c.a,BeatPiano:H,BeatStageBg:Q,Arrow:vt,BeatLine:nt,BeatStageList:Oe,PitchLine:kt,BeatLyric:le,LyricCorrect:me,BeatMenuList:Me,Parameters:Je,StatusBar:Bn,PitchElement:Tt,Breath:Hn},data:function(){return{pitchList:f["c"],modeState:f["b"],typeModeState:f["f"],isMouseDown:!1,startPos:null,endPos:null,movePitchStart:null,selectedUUID:null,mouseModalTarget:null}},computed:{stagePitches:function(){return this.$store.state.stagePitches},noteWidth:function(){return this.$store.state.noteWidth},noteHeight:function(){return this.$store.state.noteHeight},isSynthetizing:function(){return this.$store.state.isSynthetizing},stageWidth:function(){return this.$store.getters.stageWidth},stageHeight:function(){return this.$store.getters.stageHeight},playState:function(){return this.$store.state.playState}},mounted:function(){var t=this;this.updateStageOffset(),this.$refs.rightArea.addEventListener("scroll",(function(){t.updateStageOffset()})),document.getElementById("audioStage").oncontextmenu=function(t){return!1},this.$refs.drawStage.addEventListener},methods:{doSelectUUID:function(t){t?this.selectedUUID||(this.selectedUUID=t):this.selectedUUID=null},scrollTo:function(t){this.$refs.rightArea.scrollLeft=t},updateStageOffset:function(){var t=this.$refs.rightArea.scrollLeft,e=this.$refs.rightArea.scrollTop;this.$store.dispatch("changeStoreState",{stage:Object(d["a"])(Object(d["a"])({},this.$store.state.stage),{},{scrollLeft:t,scrollTop:e})})},onRightClickStage:function(t){var e=this;console.log("右键整个舞台事件 onRightClickStage:",t),this.$store.dispatch("resetStagePitchesSelect"),this.doSelectUUID(null);var n=this.$refs.stage.getBoundingClientRect(),i=t.clientX-10,a=t.layerY+10,r={x:t.clientX-n.left,y:t.clientY-n.top};this.$store.dispatch("changeStoreState",{showStageList:!0}),this.$nextTick((function(){e.$refs.BeatStageList.setPosition(i,a,r)}))},onShiftClickPitch:function(t,e){var n=this;console.log("绿色块鼠标+shift事件 onShiftClickPitch:",t,e),this.$store.dispatch("changeStoreState",{showStageList:!1}),this.doSelectUUID(this.stagePitches[e].uuid);var i=this.stagePitches.findIndex((function(t){return t.uuid===n.selectedUUID}));i=-1===i?e:i;var a=i,r=e;i>e&&(a=e,r=i),console.log("from ".concat(a,", to:").concat(r),this.stagePitches.map((function(t){return t.selected})).reverse()),this.stagePitches.forEach((function(t,e){t.selected=e>=a&&e<=r}))},onRightClickPitch:function(t,e){console.log("单纯点击鼠标绿色块右键事件 onRightClickPitch,",t,e),this.stagePitches[e].selected||this.$store.dispatch("resetStagePitchesSelect"),this.$store.dispatch("changeStoreState",{showStageList:!1}),this.commonRightClickPitch(t,e)},onShiftRightClickPitch:function(t,e){console.log("shift+鼠标右键事件 onShiftRightClickPitch,",t,e),this.commonRightClickPitch(t,e)},commonRightClickPitch:function(t,e){var n=this;console.log("commonRightClickPitch",t,e),this.$store.dispatch("changeStoreState",{showMenuList:!0}),this.stagePitches[e].selected=!0,this.doSelectUUID(this.stagePitches[e].uuid),this.$nextTick((function(){n.$refs.BeatMenuList.setPosition(t.layerX,t.layerY+n.noteHeight)}))},onPitchMouseDown:function(t,e){if(console.log("onPitchMouseDown",t,e),this.isSynthetizing)c.a.error("正在合成音频中,不能修改哦~");else if(this.playState!==f["d"].StatePlaying){this.$store.dispatch("changeStoreState",{showMenuList:!1,showStageList:!1});var n=t.target;if(n.style.opacity=.8,2!==t.button&&!t.shiftKey){this.mouseModalTarget=document.createElement("div");var i=this.mouseModalTarget;i.style.zIndex=99999,i.style.position="absolute",i.style.width="200px",i.style.height="200px",i.style.left="".concat(n.dataset.left-100,"px"),i.style.top="".concat(n.dataset.top-100,"px"),i.style.opacity=0,i.style.cursor="move",i.style.background="red",i.addEventListener("mouseup",this.onPitchMouseUp),this.$refs.stage.appendChild(i)}var a=Object(h["a"])(this.$el.querySelectorAll('[data-ref="pitch"]')),r=[],s=[],o=this.stagePitches[e].selected;o?this.stagePitches.forEach((function(t,e){t.selected&&(r.push(a[e]),s.push(t))})):(this.$store.dispatch("resetStagePitchesSelect"),r.push(n),s.push(this.stagePitches[e])),this.stagePitches[e].selected=!0,r.forEach((function(t){return t.style.opacity=.8})),this.movePitchStart={left:Number(n.dataset.left),top:Number(n.dataset.top),clientX:t.clientX,clientY:t.clientY,target:n,index:e,selectedPitches:s,selectedElements:r},document.addEventListener("mousemove",this.onPitchMouseMove),document.addEventListener("mouseleave",this.onPitchMouseUp)}else c.a.error("正在播放中, 不能修改哦~")},onPitchMouseMove:function(t){if(this.movePitchStart){this.mouseModalTarget.style.left="".concat(t.target.dataset.left-100,"px"),this.mouseModalTarget.style.top="".concat(t.target.dataset.top-100,"px");var e=this.movePitchStart,n=(e.target,e.selectedPitches),i=e.selectedElements,a=t.clientX-this.movePitchStart.clientX,r=t.clientY-this.movePitchStart.clientY,s=n.every((function(t){return t.left+a>=0&&t.top+r>=0}));if(s)for(var o=0;o<n.length;o++){var c=n[o],l=i[o],u=c.left+a,h=c.top+r;l.style.transform="translate(".concat(u,"px, ").concat(h,"px)"),l.dataset.left=u,l.dataset.top=h}}},onPitchMouseUp:function(t){if(this.movePitchStart){this.mouseModalTarget&&(this.$refs.stage.removeChild(this.mouseModalTarget),this.mouseModalTarget=null),document.removeEventListener("mousemove",this.onPitchMouseMove),document.removeEventListener("mouseleave",this.onPitchMouseUp);for(var e=this.movePitchStart,n=(e.target,e.index,e.selectedPitches),i=e.selectedElements,a=!1,r=[],s=0;s<n.length;s++){var o=n[s],l=Object.assign({},n[s]),u=i[s],h=parseInt(u.dataset.left,10),d=parseInt(u.dataset.top,10),f=Object(bt["a"])(h,this.noteWidth),p=Object(bt["b"])(d,this.noteHeight);if(o.left===f&&o.top===p||(a=!0),o.breath&&(o.breath.left=f-o.breath.width),u.style.transform="translate(".concat(f,"px, ").concat(p,"px)"),u.dataset.left=f,u.dataset.top=p,u.style.opacity=1,o.left=f,o.top=p,r.push({before:l,after:o}),!this.canMoveUpPitch(o))return c.a.error("连音符格式错误，请确保连音符“-”前面有连续音符"),o.left=this.movePitchStart.left,o.top=this.movePitchStart.top,u.style.transform="translate(".concat(this.movePitchStart.left,"px, ").concat(this.movePitchStart.top,"px)"),u.dataset.left=this.movePitchStart.left,u.dataset.top=this.movePitchStart.top,void(a=!1)}Se(this,r,!0),this.movePitchStart=null,a&&this.$store.dispatch("afterChangePitchAndHandle")}},canMoveUpPitch:function(t){var e=!0;if("-"===t.pinyin){var n=0;this.stagePitches.forEach((function(e,i){e.uuid==t.uuid&&(n=i)}));var i=this.stagePitches[n-1],a=this.stagePitches[n];i.left+i.width!==a.left&&(e=!1)}return e},onMouseDown:function(t){if(this.isSynthetizing)c.a.error("正在合成音频中,不能修改哦~");else if(this.playState!==f["d"].StatePlaying){this.$store.dispatch("changeStoreState",{showMenuList:!1,showStageList:!1}),this.$store.dispatch("resetStagePitchesSelect"),this.doSelectUUID(null),this.isMouseDown=!0;var e=this.$refs.stage.getBoundingClientRect();this.startPos={x:t.clientX-e.left,y:t.clientY-e.top},this.$refs.sharp.style.left="".concat(this.startPos.x,"px"),this.$refs.sharp.style.top="".concat(this.startPos.y,"px"),this.$refs.sharp.style.width="1px",this.$refs.sharp.style.height="1px",this.$refs.sharp.style.display="block"}else c.a.error("正在播放中, 不能修改哦~")},onMouseMove:function(t){if(this.isMouseDown){var e=this.$refs.stage.getBoundingClientRect(),n={x:t.clientX-e.left,y:t.clientY-e.top},i=n.x-this.startPos.x,a=n.y-this.startPos.y;i<0&&(this.$refs.sharp.style.left="".concat(n.x,"px")),a<0&&(this.$refs.sharp.style.top="".concat(n.y,"px")),this.$refs.sharp.style.width="".concat(Math.abs(i),"px"),this.$refs.sharp.style.height="".concat(Math.abs(a),"px"),this.toCheckOverStage(n.x)}},onMouseUp:function(t){if(this.isMouseDown){this.isMouseDown=!1;var e=this.$refs.stage.getBoundingClientRect();this.endPos={x:t.clientX-e.left,y:t.clientY-e.top},this.$refs.sharp.style.display="none";var n=this.endPos.x-this.startPos.x,i=this.endPos.y-this.startPos.x;if(Math.abs(n)<10||Math.abs(i)<10)return;var a=Math.min(this.startPos.y,this.endPos.y),r=Math.min(this.startPos.x,this.endPos.x),s=Object(bt["b"])(a,this.noteHeight),o=Object(bt["a"])(r,this.noteWidth),c=Math.abs(this.startPos.x-this.endPos.x),l=Math.max(Math.ceil(c/this.noteWidth)*this.noteWidth,20);this.addOnePitch({width:l,height:this.noteHeight,left:o,top:s}),this.toCheckOverStage(this.endPos.x)}},addOnePitch:function(t){var e=t.width,n=t.height,i=t.left,a=t.top;this.$store.dispatch("resetStagePitchesSelect"),this.doSelectUUID(null),this.stagePitches.push({width:e,height:n,left:i,top:a,hanzi:"啦",pinyin:"la",red:!1,pinyinList:["la"],select:0,fu:"l",yuan:"a",selected:!0,pitchChanged:!0,uuid:Object(bt["f"])()}),console.log("addOnePitch: width:".concat(e,", height: ").concat(n,", left: ").concat(i,", top: ").concat(a,", hanzi: 啦, pinyin: la, red: false, pinyinList: ['la'], select: 0, fu: 'l', yuan: 'a', selected: true, pitchChanged: true")),this.$store.dispatch("afterChangePitchAndHandle")},onArrowMoveEnd:function(t,e){var n=t.width,i=t.left,a=t.top,r=t.target,s=t.direction,o=t.moveArrowStart,l=!1,u=this.stagePitches[e];u.left===i&&u.top===a&&u.width===n||(l=!0),u.left=Math.floor(i/this.noteWidth)*this.noteWidth,u.top=a,u.width="left"===s?Math.ceil(n/this.noteWidth)*this.noteWidth:Math.floor(n/this.noteWidth)*this.noteWidth,r.style.transform="translate(".concat(u.left,"px, ").concat(u.top,"px)"),r.style.width="".concat(u.width,"px"),u.pitchChanged=!0,u.breath&&(u.breath.left=u.left-u.breath.width),console.log("onArrowMoveEnd: pitch.left: ".concat(u.left,", pitch.width: ").concat(u.width,", pitch.top: ").concat(u.top,", direction: ").concat(s)),this.canMoveUpPitch(u)||(c.a.error("连音符格式错误，请确保连音符“-”前面有连续音符"),u.left=o.left,u.top=o.top,u.width=o.width,r.style.transform="translate(".concat(o.left,"px, ").concat(o.top,"px)"),r.style.width="".concat(o.width,"px"),l=!1),l&&this.$store.dispatch("afterChangePitchAndHandle")},editLyric:function(t){this.$refs.BeatLyric.showLyric(t)},beatLyricSaveAllPinyin:function(){this.$refs.BeatLyric.save()},showLyric:function(t){this.$refs.LyricCorrect.showLyric(t)},toCheckOverStage:function(t){while(t+500>=this.stageWidth)this.$store.dispatch("updateMatter",15)}}},Fn=jn,Tn=n("990f");function zn(t){this["$style"]=Tn["default"].locals||Tn["default"]}var Vn=Object(y["a"])(Fn,l,u,!1,zn,null,null),Nn=Vn.exports,Yn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.$style.wrap},[t.isExceedHeader?i("div",{class:t.$style.blank}):t._e(),i("div",{class:[t.$style.header,t.isExceedHeader?t.$style.isFloat:""]},[i("Upload",{ref:"upload",attrs:{accept:".mid","on-change":t.uploadChange,"auto-upload":!1,multiple:!1,"show-file-list":!1,"with-credentials":!0,action:t.action}},[i("div",{attrs:{id:"uploadQupuWrap"}},[i("div",{class:t.$style.common,on:{click:t.uploadQupu}},[i("img",{attrs:{src:n("1bbe")}}),i("div",{class:t.$style.text},[t._v("导入曲谱")])])])]),i("div",{class:t.$style.linefu},[i("div",{class:[t.$style.check,t.mode===t.modeState.StatePitch?t.$style.isActive:""],on:{click:function(e){return t.selectMode(t.modeState.StatePitch)}}},[t.mode===t.modeState.StatePitch?i("img",{attrs:{src:n("f781")}}):i("img",{attrs:{src:n("be9b")}}),i("div",{class:t.$style.text},[t._v("音符模式")])]),i("div",{class:[t.$style.check,t.$style.middle,t.mode===t.modeState.StateLine?t.$style.isActive:""],on:{click:function(e){return t.selectMode(t.modeState.StateLine)}}},[t.mode===t.modeState.StateLine?i("img",{attrs:{src:n("a0b8")}}):i("img",{attrs:{src:n("85ea")}}),i("div",{class:t.$style.text},[t._v("音高线模式")])]),i("div",{class:[t.$style.check,t.$style.right,t.mode===t.modeState.StateElement?t.$style.isActive:""],on:{click:function(e){return t.selectMode(t.modeState.StateElement)}}},[t.mode===t.modeState.StateElement?i("img",{attrs:{src:n("e16c")}}):i("img",{attrs:{src:n("5c00")}}),i("div",{class:t.$style.text},[t._v("音素模式")])])]),i("div",{class:t.$style.linefu},[i("div",{class:[t.$style.check,t.typeMode===t.typeModeState.StateVolume?t.$style.isActive:""],on:{click:function(e){return t.selectTypeMode(t.typeModeState.StateVolume)}}},[t.typeMode===t.typeModeState.StateVolume?i("img",{attrs:{src:n("a261")}}):i("img",{attrs:{src:n("457d")}}),i("div",{class:t.$style.text},[t._v("响度")])]),i("div",{class:[t.$style.check,t.$style.right,t.typeMode===t.typeModeState.StateTension?t.$style.isActive:""],on:{click:function(e){return t.selectTypeMode(t.typeModeState.StateTension)}}},[t.typeMode===t.typeModeState.StateTension?i("img",{attrs:{src:n("0b63")}}):i("img",{attrs:{src:n("df3f")}}),i("div",{class:t.$style.text},[t._v("张力")])])]),i("div",{class:t.$style.common,on:{click:t.toPlay}},[t.isPlaying?i("img",{class:t.$style.icon,attrs:{src:n("ede0")}}):i("img",{class:t.$style.icon,attrs:{src:n("a408")}}),i("div",{class:t.$style.text},[t._v("播放控制")])]),i("div",{class:t.$style.common,on:{click:t.toGenerateAudio}},[i("img",{class:t.$style.icon,attrs:{src:n("d947")}}),i("div",{class:t.$style.text},[t._v("生成音频")])]),i("div",{class:t.$style.linefu},[i("div",{class:[t.$style.check,t.$style.isActive],on:{mousedown:function(e){return t.toScroll(0)},mousemove:t.onMouseUp,mouseup:t.onMouseUp}},[i("img",{attrs:{src:n("f2b2")}}),i("div",{class:t.$style.text},[t._v("左滑")])]),i("div",{class:[t.$style.check,t.$style.right,t.$style.isActive],on:{mousedown:function(e){return t.toScroll(1)},mousemove:t.onMouseUp,mouseup:t.onMouseUp}},[i("img",{attrs:{src:n("767f")}}),i("div",{class:t.$style.text},[t._v("右滑")])])]),i("div",{class:[t.$style.common,t.$style.set],on:{click:t.toSet}},[i("img",{class:t.$style.icon,attrs:{src:n("210e")}}),i("div",{class:t.$style.text},[t._v("更多信息")])])],1),i("MidiDialog",{ref:"MidiDialog",on:{"midi-cancel":t.midiCancelEvent}}),i("CommonDialog",{attrs:{show:t.dialogShow,title:"导入Midi",tip:"是否放弃未保存的改动？",confirmButtonText:"放弃改动",confirmButtonEvent:t.confirmEvent,cancelButtonEvent:t.cancelEvent}})],1)},Qn=[],Wn=(n("0bf1"),n("1e34")),Zn=n.n(Wn),Kn=(n("fc13"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"导入Midi",visible:t.midiVisible,"custom-class":"midi-dialog"},on:{"update:visible":function(e){t.midiVisible=e}}},[n("div",[n("div",{class:t.$style.tips},[t._v("选择要导入的音轨")]),n("RadioGroup",{model:{value:t.selectMid,callback:function(e){t.selectMid=e},expression:"selectMid"}},t._l(t.midPitchList,(function(e,i){return n("Radio",{key:i,attrs:{label:i}},[t._v(" 音轨 "+t._s(i+1)+" ("+t._s(e.pitchList.length)+"个音符, "+t._s(e.lowestPitchStr)+"-"+t._s(e.highestPitchStr)+", Piano) ")])})),1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:t.cancel}},[t._v("取 消")]),n("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])}),Jn=[];n("01e5"),n("e487"),n("c2f8");function qn(t){return qn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}n("6a2f");var ti=n("ff6a"),ei=n.n(ti),ni={name:"MidiDialog",components:{Dialog:ee.a,Button:qt.a,Message:c.a,Radio:fe.a,RadioGroup:ei.a},data:function(){return{midiVisible:!1,midPitchList:[],selectMid:0,fileName:""}},methods:{handleMidPitchList:function(t){for(var e=this,n=function(n){for(var i=t[n],a=i.pitchList,r=a[0].pitch,s=a[0].pitch,o=0;o<a.length;o+=1)r=Math.min(r,a[o].pitch),s=Math.max(s,a[o].pitch);return r<f["c"][f["c"].length-1].pitch?(c.a.error("最低音小于现在的音域"),e.$emit("midi-cancel"),{v:void 0}):s>f["c"][0].pitch?(c.a.error("最高音大于现在的音域"),e.$emit("midi-cancel"),{v:void 0}):(i.lowestPitchStr=f["c"].find((function(t){return t.pitch===r})).str,void(i.highestPitchStr=f["c"].find((function(t){return t.pitch===s})).str))},i=0;i<t.length;i+=1){var a=n(i);if("object"===qn(a))return a.v}this.midPitchList=t,this.midiVisible=!0},show:function(t,e){this.handleMidPitchList(t.midPitchList),this.fileName=e},cancel:function(){this.midiVisible=!1,this.$emit("midi-cancel")},submit:function(){var t=this.midPitchList[this.selectMid].pitchList,e=be(t,"grid",this);this.midiVisible=!1,this.$store.dispatch("changeStoreState",{taskId:0,bpm:t[0].bpm,toneName:t[0].singer,toneId:t[0].toneId,musicName:this.fileName,stagePitches:e,pitchChanged:!0,f0Draw:[],volumeMap:[],tensionMap:[],changedLineMap:{}}),this.$store.dispatch("getPitchLine"),this.$store.dispatch("saveFuYuan"),this.$store.dispatch("adjustStageWidth"),this.$emit("midi-cancel"),c.a.success("导入成功～")}}},ii=ni,ai=(n("14c1"),n("02ae"));function ri(t){this["$style"]=ai["default"].locals||ai["default"]}var si=Object(y["a"])(ii,Kn,Jn,!1,ri,null,null),oi=si.exports,ci=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{visible:t.show,"custom-class":"editor-dialog","before-close":t.beforeClose,top:"15%",title:t.title},on:{"update:visible":function(e){t.show=e}}},[n("div",{staticClass:"editor-wrap"},[n("div",{staticClass:"editor-tip"},[t._v(t._s(t.tip))])]),n("div",{staticClass:"editor-footer"},[n("button",{staticClass:"editor-button editor-confirm-button",on:{click:t.confirmButtonEvent}},[t._v(t._s(t.confirmButtonText))]),n("button",{staticClass:"editor-button editor-cancel-button",on:{click:t.cancelButtonEvent}},[t._v(t._s(t.cancelButtonText))])])])},li=[],ui={components:{Dialog:ee.a},props:{show:{type:Boolean,required:!0},title:{type:String,default:"标题"},tip:{type:String,default:"提示"},confirmButtonText:{type:String,default:"确认"},cancelButtonText:{type:String,default:"取消"},confirmButtonEvent:{type:Function},cancelButtonEvent:{type:Function}},data:function(){return{}},methods:{beforeClose:function(){this.cancelButtonEvent()}}},hi=ui,di=(n("4709"),Object(y["a"])(hi,ci,li,!1,null,null,null)),fi=di.exports,pi=n("dcdb"),gi={name:"BeatHeader",props:["isPlaying","isNeedGenerate"],data:function(){return{modeState:f["b"],typeModeState:f["f"],clickMouseStart:!1,timer:null,file:"",clickType:-1,dialogShow:!1,action:"https://yan-1253428821.cos.ap-guangzhou.myqcloud.com/"}},computed:{mode:function(){return this.$store.state.mode},typeMode:function(){return this.$store.state.typeMode},playState:function(){return this.$store.state.playState},isExceedHeader:function(){return this.$store.state.isExceedHeader}},components:{Button:qt.a,Upload:Zn.a,MidiDialog:oi,CommonDialog:fi},watch:{clickMouseStart:function(t){var e=this;t?this.timer=setInterval((function(){0===e.clickType?e.$emit("toScroll",e.$store.state.stage.scrollLeft-30):e.$emit("toScroll",e.$store.state.stage.scrollLeft+30)}),50):clearInterval(this.timer)}},destroyed:function(){clearInterval(this.timer)},mounted:function(){},methods:{toPlay:function(){this.$emit("play")},getUserCredential:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(pi["c"])();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},mid2json:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(ne["i"])({mid_url:t});case 2:i=n.sent,console.log("mid2json:",i),e.$refs.MidiDialog.show(i.data.data,e.file.name);case 5:case"end":return n.stop()}}),n)})))()},selectMode:function(t){t===f["b"].StatePitch?Object(bt["n"])("note-button-click",147617):Object(bt["n"])("pitch-button-click",147618),this.$store.state.isSynthetizing?c.a.error("正在合成音频中,不能修改哦~"):this.$store.dispatch("changeStoreState",{mode:t})},selectTypeMode:function(t){t===this.typeMode&&this.typeMode!==f["f"].StateNone?this.$store.dispatch("changeStoreState",{typeMode:f["f"].StateNone}):this.$store.dispatch("changeStoreState",{typeMode:t})},toGenerateAudio:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(bt["n"])("create-audio-button-click",147619),t.playState!==f["d"].StatePlaying){e.next=4;break}return c.a.error("正在播放中, 不能修改哦~"),e.abrupt("return");case 4:if(!Object(bt["k"])(t.$store.state.stagePitches)){e.next=7;break}return c.a.error("音符存在重叠, 请调整好~"),e.abrupt("return");case 7:if(0!==t.$store.state.stagePitches.length||0!==t.$store.state.f0AI.length||0!==t.$store.state.f0Draw.length){e.next=10;break}return c.a.error("没有音符！！"),e.abrupt("return");case 10:t.$emit("synthesize",(function(){var e=Object(bt["i"])("index");t.$router.push("/profile?index=".concat(e))}));case 11:case"end":return e.stop()}}),e)})))()},toSet:function(){Object(bt["n"])("more-information-button-click",147620),this.$emit("openDrawer")},toScroll:function(t){this.clickType=t,this.clickMouseStart=!0,0===t?this.$emit("toScroll",this.$store.state.stage.scrollLeft-30):this.$emit("toScroll",this.$store.state.stage.scrollLeft+30)},onMouseUp:function(){this.clickMouseStart=!1},uploadChange:function(t){this.file=t.raw,this.uploadMidi()},uploadQupu:function(t){this.playState!==f["d"].StatePlaying?this.isNeedGenerate&&(this.dialogShow=!0,t.stopPropagation()):c.a.error("正在播放中, 不能修改哦~")},confirmEvent:function(){this.dialogShow=!1,document.getElementById("uploadQupuWrap").click()},cancelEvent:function(){this.dialogShow=!1},midiCancelEvent:function(){this.$refs["upload"].clearFiles()},uploadMidi:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a,r,s,o,l,u,h,d,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.file,i=n.name.split("."),a=i[i.length-1],"mid"===a){e.next=7;break}return c.a.error("只能上传mid格式的文件～"),t.$refs["upload"].clearFiles(),e.abrupt("return");case 7:if(r=n.size,!(r>2147483648)){e.next=12;break}return c.a.error("文件大小超过 2GB"),t.$refs["upload"].clearFiles(),e.abrupt("return");case 12:return s="PUT",o=Object(bt["h"])("mx_uid"),c.a.success("开始解析中"),l="file/".concat(o,"/").concat(t.file.name),e.next=18,t.getUserCredential();case 18:return u=e.sent,h=u.data,e.next=22,Object(bt["g"])(s,l,h);case 22:d=e.sent,f=d.Authorization,p=d.XCosSecurityToken,t.uploadFile(s,l,f,p,(function(e,n){e?c.a.error(e):(console.log("url:",n.url),t.mid2json(n.url))}));case 26:case"end":return e.stop()}}),e)})))()},uploadFile:function(t,e,n,i,a){var r="".concat(this.action).concat(Object(bt["c"])(e).replace(/%2F/g,"/")),s=new XMLHttpRequest;s.open(t,r,!0),s.setRequestHeader("Authorization",n),i&&s.setRequestHeader("x-cos-security-token",i),s.upload.onprogress=function(t){var e=parseFloat(Math.round(t.loaded/t.total*1e4)/100);console.log("上传进度: ".concat(e,"%")),c.a.success("解析进度".concat(e,"%"))},s.onload=function(){if(/^2\d\d$/.test(""+s.status)){var t=s.getResponseHeader("etag");a(null,{url:r,ETag:t})}else a("文件".concat(e,"上传失败，状态码：").concat(s.status))},s.onerror=function(){a("文件".concat(e,"上传失败，请检查是否没配置 CORS 跨域规则"))},s.send(this.file)}}},Ai=gi,mi=n("43ab");n("67a5");function vi(t){this["$style"]=mi["default"].locals||mi["default"]}var yi=Object(y["a"])(Ai,Yn,Qn,!1,vi,null,null),Si=yi.exports,bi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.$style.BeatSetting,t.showDrawer?t.$style.isActive:"",t.isExceedHeader?t.$style.isFloat:""],style:{height:t.stageHeight+25+"px"}},[i("div",{class:t.$style.top},[i("div",{class:t.$style.title},[t._v("设置面板")]),i("img",{attrs:{src:n("8749")},on:{click:function(e){return e.stopPropagation(),t.closeDrawer(e)}}})]),i("div",{class:t.$style.text},[t._v("歌曲名称")]),i("div",{class:t.$style.select},[i("Input",{attrs:{placeholder:"请输入歌曲名称"},model:{value:t.$store.state.musicName,callback:function(e){t.$set(t.$store.state,"musicName",e)},expression:"$store.state.musicName"}})],1),i("div",{class:[t.$style.text,t.$style.qusu]},[t._v("当前音源")]),i("div",{class:t.$style.setting},[i("div",{class:t.$style.select},[i("Select",{class:t.$style.selector,attrs:{filterable:"",placeholder:"选择谁来演唱这首歌"},on:{change:t.singleToneIdChange},model:{value:t.$store.state.toneId,callback:function(e){t.$set(t.$store.state,"toneId",e)},expression:"$store.state.toneId"}},t._l(t.toneList,(function(e){return i("Option",{key:e.tone_id,attrs:{label:e.display_name,value:e.tone_id}},[i("span",{staticStyle:{float:"left"}},[t._v(t._s(e.display_name))]),i("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("by "+t._s(e.nickname))])])})),1)],1),i("div",{class:t.$style.listen},[i("img",{attrs:{src:n("7ac8")},on:{click:t.playerButtonClick}}),t._v(" 试听 ")])]),i("div",{class:[t.$style.text,t.$style.qusu]},[t._v("当前曲速")]),i("div",{class:t.$style.setting},[i("InputNumber",{class:t.$style.bpmInput,attrs:{value:t.$store.state.bpm,"controls-position":"right",min:50,max:200},on:{change:t.bpmChangeChange}}),i("div",{class:t.$style.confirm},[i("Button",{attrs:{type:"success"},on:{click:t.confirmBpm}},[t._v("确定")])],1)],1),i("div",{class:t.$style.bpmText},[t._v("请控制输入范围在50-200BPM")])])},xi=[],wi=(n("1ff9"),n("d514")),Bi=n.n(wi),Pi=(n("5b47"),n("17c9")),Ei=n.n(Pi),ki=n("4ec3"),Mi=function(t){var e=t.url,n=t.startTime,i=void 0===n?0:n,a=t.onProgress,r=t.onPlay,s=t.onPause,o=t.onEnd;console.log("PlayAudio:",e,i);var c="my-audio",l=document.getElementById(c);return l&&l.parentNode.removeChild(l),l=document.createElement("audio"),l.controls=!0,l.src=e,l.id=c,l.type="audio/wav",l.style.display="none",l.addEventListener("timeupdate",(function(t){var e=t.target.currentTime;a&&a(e)})),l.addEventListener("ended",(function(t){o(t.target)})),l.addEventListener("play",(function(t){r(t.target)})),l.addEventListener("pause",(function(t){s(t.target)})),document.body.appendChild(l),l},Ci={name:"BeatSetting",data:function(){return{showDrawer:!1,audio:null,toneList:[],name:"",inputBpmValue:0}},components:{Select:Ei.a,Option:Bi.a,InputNumber:cn.a,Input:Kt.a,Button:qt.a},computed:{stageHeight:function(){return this.$store.getters.stageHeight},isExceedHeader:function(){return this.$store.state.isExceedHeader}},mounted:function(){this.getSongOtherDetail()},methods:{handleDrawer:function(){this.showDrawer?this.showDrawer=!1:this.showDrawer=!0},closeDrawer:function(){this.showDrawer=!1},getSongOtherDetail:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ki["e"])();case 2:n=e.sent,i=n.data,t.toneList=i.data.tone_list;case 5:case"end":return e.stop()}}),e)})))()},singleToneIdChange:function(t){var e=this;this.toneList.forEach((function(n){t===n.tone_id&&e.$store.dispatch("changeStoreState",{toneId:n.tone_id,toneName:n.name,auditUrl:n.audit_url})})),this.$store.dispatch("getPitchLine")},bpmChangeChange:function(t){console.log("bpmChangeChange:",t),this.inputBpmValue=t},confirmBpm:function(){var t=this;0===this.inputBpmValue&&(this.inputBpmValue=this.$store.state.bpm),console.log("confirmBpm:",this.inputBpmValue);var e=this.$store.state.bpm;this.$store.dispatch("changeStoreState",{bpm:this.inputBpmValue,pitchChanged:!0}),this.$store.dispatch("getPitchLine",{beforeRequest:function(){t.$store.state.bpm=e},afterRequest:function(){t.$store.state.bpm=t.inputBpmValue}})},playerButtonClick:function(){var t=this;this.toneList.forEach((function(e){t.$store.state.toneId===e.tone_id&&t.$store.dispatch("changeStoreState",{auditUrl:e.audit_url})}));var e=this.$store.state.auditUrl;this.audio=Mi({url:e,onPlay:function(t){console.log("playing")},onPause:function(t){console.log("pause")},onEnd:function(){console.log("end")}}),this.audio.play()}}},Ri=Ci,_i=n("aafe");function $i(t){this["$style"]=_i["default"].locals||_i["default"]}var Ii=Object(y["a"])(Ri,bi,xi,!1,$i,null,null),Li=Ii.exports,Ui=n("4840"),Oi={name:"AudioEditor",components:{Message:c.a,BeatContainer:Nn,BeatHeader:Si,BeatSetting:Li,StatusBar:Bn,CommonDialog:Ui["a"]},data:function(){return{userInfo:sessionStorage.getItem("userInfo"),timerId:0,audio:null,linePosition:null,playLine:{start:0,end:0,current:0},playStartTime:0,dialogShow:!1}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(bt["n"])("audioedit-page-exposure",147622),e.next=3,t.getEditorDetail();case 3:return t.storeStagePitchesWatcher=t.$store.watch((function(t){return t.stagePitches}),(function(e,n){console.log("changeStoreState isStagePitchesChanged true"),t.$store.dispatch("changeStoreState",{isStagePitchesChanged:!0})}),{deep:!0}),t.$store.dispatch("updateStageSize"),e.next=7,t.$nextTick();case 7:document.addEventListener("keydown",t.keyDownListener);case 8:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.audio&&this.audio.pause(),this.storeStagePitchesWatcher(),this.resetStoreState(),document.removeEventListener("keydown",this.keyDownListener)},computed:{noteWidth:function(){return this.$store.state.noteWidth},noteHeight:function(){return this.$store.state.noteHeight},bpm:function(){return this.$store.state.bpm},isSynthetizing:function(){return this.$store.state.isSynthetizing},playState:function(){return this.$store.state.playState},isManualMovedLine:function(){return this.$store.state.lineLeft!==this.playLine.current},isStagePitchesChanged:function(){return this.$store.state.isStagePitchesChanged},firstPitch:function(){return this.$store.getters.firstPitch},stagePitches:function(){return this.$store.state.stagePitches}},methods:{keyDownListener:function(t){t.target===document.body&&(32===t.keyCode?(this.toPlay(),t.preventDefault()):8!==t.keyCode&&46!==t.keyCode||(xe(this),t.stopPropagation()))},closeDialogShow:function(){this.dialogShow=!1},checkLogin:function(){this.$emit("openLoginDialog")},resetStoreState:function(){this.$store.dispatch("resetState")},toOpenDrawer:function(){this.$refs.BeatSetting.handleDrawer()},changePlayState:function(t){this.$store.dispatch("changeStoreState",{playState:t})},convertXyMap:function(t){var e,n=[],i=Object(r["a"])(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;n[a.x]=a.y}}catch(s){i.e(s)}finally{i.f()}return n},getMusicInfo:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ki["d"])(t);case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})))()},getMusicxml2Json:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["j"])(t);case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})))()},saveF0DrawChange:function(t,e){for(var n={},i=this.$store.getters.pitchWidth,a=0;a<t.length;a+=1)if(t[a]!==e[a])for(var r=e[a],s=Math.round(i*a),o=Math.round(i*(a+1)),c=s;c<=o;c+=1)n[c]=r;this.$store.state.changedLineMap=n},getEditorDetail:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a,r,s,o,c,l,u,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(bt["i"])("taskId")||0,i=Object(bt["i"])("musicId")||0,!n){e.next=14;break}return e.next=5,Object(ne["b"])({task_id:n});case 5:return a=e.sent,r=a.data.data,s=r.pitchList,o=be(s,"",t),e.next=11,t.$store.dispatch("changeStoreState",{taskId:r.task_id,downUrl:r.down_url,onlineUrl:r.online_url,f0AI:r.f0_ai,f0Draw:r.f0_draw,bpm:s[0].bpm,toneName:s[0].singer,toneId:s[0].toneId,stagePitches:o,volumeMap:t.convertXyMap(r.volume_xy),tensionMap:t.convertXyMap(r.tension_xy),f0Xy:r.f0_xy,musicId:i||r.music_id,musicName:r.music_name});case 11:t.saveF0DrawChange(r.f0_ai,r.f0_draw),e.next=31;break;case 14:if(!i){e.next=31;break}return e.next=17,t.getMusicInfo(i);case 17:return c=e.sent,e.next=20,t.getMusicxml2Json(JSON.parse(sessionStorage.getItem("xml2JsonReq")));case 20:l=e.sent,console.log("musicInfo:",c),u=[],u=1===c.bus_type?be(l.pitchList,"grid",t):be(l.pitchList,"",t),h=l.f0_draw,d=parseInt(Object(bt["i"])("resetF0Draw"),10),2===c.bus_type&&1===d&&(h=[]),t.$store.dispatch("changeStoreState",{taskId:Object(bt["i"])("arrangeId")||l.task_id,musicId:i,bpm:l.pitchList[0].bpm,toneName:l.pitchList[0].singer,toneId:l.pitchList[0].toneId,musicName:"".concat(c.name,"填词"),stagePitches:u,f0AI:l.f0_ai,f0Draw:h,volumeMap:t.convertXyMap(l.volume_xy),tensionMap:t.convertXyMap(l.tension_xy),f0Xy:l.f0_xy,pitchChanged:!0}),t.saveF0DrawChange(l.f0_ai,h),t.$store.dispatch("getPitchLine"),t.$store.dispatch("saveFuYuan");case 31:t.$store.dispatch("adjustStageWidth");case 32:case"end":return e.stop()}}),e)})))()},isNeedGenerate:function(t){return!!this.isStagePitchesChanged||(!!this.$store.state.isPitchLineChanged||(!!this.$store.state.isVolumeChanged||(!!this.$store.state.isTensionChanged||(!!this.$store.state.isStagePitchElementChanged||!this.$store.state.onlineUrl&&"upload"!==t))))},toPlay:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isSynthetizing){e.next=3;break}return c.a.error("正在合成音频中,请耐心等待~"),e.abrupt("return");case 3:if(!Object(bt["k"])(t.stagePitches)){e.next=6;break}return c.a.error("音符存在重叠, 请调整好~"),e.abrupt("return");case 6:if(t.$store.getters.pitchList.length){e.next=9;break}return c.a.error("没有音符！！"),e.abrupt("return");case 9:if(n=t.stagePitches[t.stagePitches.length-1],i=n.left+n.width,!(t.$store.state.lineLeft>i&&t.playState!==f["d"].StatePlaying)){e.next=14;break}return c.a.error("播放线后没有音符！！"),e.abrupt("return");case 14:console.log("Click play button, current state: ".concat(t.playState)),a=Object(bt["i"])("taskId"),t.playState===f["d"].StateNone?(t.isNeedGenerate()?t.doPlay(!0):a?(t.toPlayAudio(t.$store.state.onlineUrl),t.doPlay(!1)):t.doPlay(!0),t.changePlayState(f["d"].StatePlaying)):t.playState===f["d"].StatePlaying?(t.audio.pause(),t.changePlayState(f["d"].StatePaused)):t.playState===f["d"].StatePaused?(t.isNeedGenerate()?t.doPlay(!0):t.isManualMovedLine?t.doPlay(!1):t.doPlay(!1,!0),t.changePlayState(f["d"].StatePlaying)):t.playState===f["d"].StateEnded&&(t.isNeedGenerate()?t.doPlay(!0):(t.isManualMovedLine,t.doPlay(!1)),t.changePlayState(f["d"].StatePlaying)),t.$store.dispatch("changeStoreState",{isStagePitchesChanged:!1,isVolumeChanged:!1,isTensionChanged:!1,isStagePitchElementChanged:!1,isPitchLineChanged:!1});case 18:case"end":return e.stop()}}),e)})))()},doPlay:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,o,c,l,u,h,d,f,p,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=!(t.length>0&&void 0!==t[0])||t[0],a=t.length>1&&void 0!==t[1]&&t[1],r=e.getLinePosition(),s=r.start,o=r.end,c=r.minStart,l=r.maxEnd,u=r.duration,console.log("doPlay generator:".concat(i,", isContinue:").concat(a,", start: ").concat(s,", end: ").concat(o,", minStart:").concat(c,", maxEnd: ").concat(l,", duration:").concat(u)),h=Math.max(0,(s-c)/(l-c)),d=h*u/1e3,console.log("duration:".concat(u,", startTime:").concat(d,", percent:").concat(h)),!i){n.next=21;break}return n.next=10,e.toSynthesize();case 10:f=n.sent,p=f.onlineUrl,g=f.downUrl,e.$store.dispatch("changeStoreState",{downUrl:g,onlineUrl:p}),e.playLine={current:s,start:s,end:o},e.playStartTime=d,e.toPlayAudio(p),e.audio.currentTime=d,e.audio.play(),n.next=22;break;case 21:a?(console.log("play continue with start: ".concat(e.playStartTime)),e.audio.play()):(e.playLine={current:s,start:s,end:o},e.playStartTime=d,e.audio.currentTime=d,e.audio.play());case 22:case"end":return n.stop()}}),n)})))()},toPlayAudio:function(t){var e=this;clearInterval(this.timerId),this.audio=Mi({url:t,onPlay:function(t){e.timerId=setInterval((function(){if(t.duration){var n=t.duration,i=n-e.playStartTime,a=1e3*i,r=e.playLine.end-e.playLine.start,s=a/16,o=r/s;e.playLine.current+=o,e.changeLinePosition(e.playLine.current,!0)}}),16)},onPause:function(t){clearInterval(e.timerId)},onEnd:function(){clearInterval(e.timerId),e.changePlayState(f["d"].StateEnded),e.changeLinePosition(e.playLine.start,!0),e.playLine.current=e.playLine.start}})},changeLinePosition:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.$store.state.stage,i=n.width,a=n.scrollLeft,r=a+i;t>r?this.$refs.BeatContainer.scrollTo(r):t<a&&this.$refs.BeatContainer.scrollTo(t)}this.$store.dispatch("changeStoreState",{lineLeft:t})},toScroll:function(t){this.$refs.BeatContainer.scrollTo(t)},getLinePosition:function(){var t=this,e=this.$store.state.lineLeft,n=1e7,i=0,a=0,r=0,s=0,o=0,c=0,l=50*this.$store.getters.pitchWidth;this.stagePitches.forEach((function(a){var l=a.left+a.width,u=a.left;a.hasOwnProperty("preTime")&&(u=a.left-Object(bt["q"])(a.preTime,t.noteWidth,t.bpm)),(u>=e||l>=e)&&(n=Math.min(n,u),i=Math.max(i,l)),r=Math.max(r,l);var h=Object(bt["m"])(a.width,t.noteWidth,t.bpm),d=Object(bt["m"])(a.left,t.noteWidth,t.bpm)-a.preTime;d<s&&(s=d),d>o&&(o=d,c=h)}));var u=o-s+c;return{start:n,end:i+l,minStart:a,maxEnd:r+l,duration:u+500}},handleVolumeTension:function(){for(var t=this.$store.getters.pitchWidth,e=this.$store.state.volumeMap,n=this.$store.state.tensionMap,i=[],a=[],r=[],s=[],o=0;o<e.length;o+=1)i.push({x:o,y:e[o]||0});for(var c=0;c<n.length;c+=1)a.push({x:c,y:n[c]||0});for(var l=0;l<i.length;l+=t)i[Math.round(l)]&&r.push(parseInt(i[Math.round(l)].y,10));for(var u=0;u<a.length;u+=t)a[Math.round(u)]&&s.push(parseInt(a[Math.round(u)].y,10));return{volumeXy:i,tensionXy:a,f0Volume:r,f0Tension:s}},toSynthesize:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,o,l,u,h,d,p,g,A,m,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.$store.state.isGetF0Data){n.next=3;break}return c.a.error("网络不好，请稍后重试~"),n.abrupt("return");case 3:return e.$store.dispatch("changeStoreState",{isSynthetizing:!0}),i=Date.now(),a=e.handleVolumeTension(),r={pitchList:e.$store.getters.pitchList,f0_ai:e.$store.state.f0AI,f0_draw:e.$store.state.f0Draw,task_id:e.$store.state.taskId,volume_data:a.f0Volume,tension_data:a.f0Tension,volume_xy:a.volumeXy,tension_xy:a.tensionXy,f0_xy:e.$store.state.f0Xy,music_id:e.$store.state.musicId,music_name:e.$store.state.musicName},n.next=9,Object(ne["c"])(r);case 9:if(s=n.sent,o=s.data,console.log("editorSynth:",o),0===o.ret_code){n.next=15;break}return c.a.error("合成失败, 错误信息:".concat(o.err_msg,", 请重试~")),n.abrupt("return");case 15:l=o.data.param_id,u=o.data.task_id,e.$store.dispatch("changeStoreState",{taskId:u}),h="",d="",p=0;case 21:if(!(p<20)){n.next=54;break}return n.next=24,Object(ne["e"])(l,u);case 24:if(g=n.sent,A=g.data,0===A.ret_code){n.next=29;break}return c.a.error("查询合成状态失败, 错误信息: ".concat(A.err_msg)),n.abrupt("break",54);case 29:if(4!==A.data.status){n.next=41;break}return n.next=32,Object(ne["d"])(u);case 32:if(m=n.sent,console.log("editorSynthResult:",A),0!==m.data.ret_code||2!==m.data.data.state){n.next=39;break}return h=m.data.data.online_url,d=m.data.data.down_url,c.a.success("音频合成成功~"),n.abrupt("break",54);case 39:n.next=42;break;case 41:c.a.success("算法努力合成音频中(".concat(f["e"][A.data.status],"%)"));case 42:return n.next=44,Object(bt["p"])(3e3);case 44:if(v=Date.now(),console.log("synthesizeEnd - synthesizeStart: ".concat(v-i,", synthesizeStart: ").concat(i,", synthesizeEnd: ").concat(v)),!(v-i>6e4)){n.next=51;break}return c.a.error("音频合成失败，请稍后再试~"),e.$store.dispatch("changeStoreState",{isSynthetizing:!1}),e.changePlayState(f["d"].StateNone),n.abrupt("break",54);case 51:p++,n.next=21;break;case 54:return e.$store.dispatch("changeStoreState",{isSynthetizing:!1}),t&&t(),n.abrupt("return",{onlineUrl:h,downUrl:d});case 57:case"end":return n.stop()}}),n)})))()}}},Di=Oi,Xi=n("80bf");function Gi(t){this["$style"]=Xi["default"].locals||Xi["default"]}var Hi=Object(y["a"])(Di,i,a,!1,Gi,null,null);e["default"]=Hi.exports},"9f600":function(t,e,n){"use strict";var i=n("2028"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},a0b8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAY1BMVEUAAAAfHx8fHx8fHx8fHx8eHh4eHh4eHh4eHh4fHx8eHh4eHh4fHx8fHx8eHh4Zgi0cUSYcTCUdKyAeJR8dLyAdPyMZfCwaYygcSCQZdyscQyMdOyIcOCIcMyEabCobWCcaYCjJWhWqAAAADnRSTlMAvxDZxbqikFxRO/PW8ny7PMQAAAHCSURBVFjDrdjrkoIwDAXgAuq6XsLpDcpN9/2fckcrKuKM1OT8debThsg0Uc/Jt5us2NOC7Itss83V+/xmlJjs9w2zW9EXWe1enR/6Mj/T4qzp66zzJ+dAjBwe0ppYWc/qw6zTjtiJz27Fh1bXPiSBXDozk4AypXISSa62MtBWbWSgTXqJhrqp6n5epCLRCeU1oGkKtU9zXFXGvPymvaK0nMtbapomFTqNUCUFNQxI9GhmLPbAhMhfpSoQFyJTN82fIz5ELWBIAgqAFYG0FASA0iDXe9/PymoBnQLZDjH6hTJAmwAZjXvaSUkGoFsOmQsQOue6C6ifJQ8MiyGrH0fq4/EmD20x5AFtJ6fs6ZYOCLQUspg0rw0AghkdmMVQB/jXfwWgW99qxI8WQnr2rQPu8bQYMoCet1Xsh+DoA/S5U6xxxhIlQLFTEqM+vHAYUGw5EQgASUAW0CKQAYIU1EpArm6a2vChEK8IngsNZUxlmFBd3nJmQs0InZhQxYX4RzvSJP1YbJfmHGfXY0QotSWL+YW9j/efxGRiI4TYUCM2ZkkNfmKjqNRwLDauyy4Q+CsN6SULf+0jv4jir8bkl3X89eE/jkMRw+fFgT0AAAAASUVORK5CYII="},a219:function(t,e,n){"use strict";var i=n("1f04"),a=n("f8d5").end,r=n("ed58"),s=r("trimEnd"),o=s?function(){return a(this)}:"".trimEnd;i({target:"String",proto:!0,forced:s},{trimEnd:o,trimRight:o})},a261:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAAY1BMVEUAAAAYGBgfHx8YGBgYGBgZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoZGRkYGBgXmzAXWSQXPx8YHxkXhywXJRoXOR0XeyoYdCkXMBwXbScXZiYXTCEXlC4XkS4XVCMXQx8YXiUhNxaWAAAADnRSTlMAvxD789nFuqKQXFE71kOYHHoAAAGRSURBVFjD7djNcoIwFAXg8I+o95pLkoIg+P5P2RqmYivDRDmLLnpWWX2jl2QgRz0mrsooSyk4aRaVVayWs48SeiNJtF/ADjm9nfzwW9vRpux+Dq2gjSniB+1Im3OcvYIAKZ7mBpnfgUCZnm+O4nK/ewmW236OcFykVJzguCRWFQFTqRLJlX50wOFlSC5TKZJLFUHzzy2mGToD46Rl5l6DOHF8S28gnKl5Sofgmm+NTwDOXhjI6Z6B3MC8lTND+zHFXXgzZx+NZ047p1/gpOY1zvodE85pXuXOfmWDudM6d/WrGsWZabIdgpuH4TDcfXqC4hq/blCc+LVGccavLYobsX/Wn5oLgbhpH7cgTrNPE8p1IWe2pVCuWef8j68lmKN2lTP1l2YonJPzGkcyjvLau0KsnjJee2bkq8fUUI7EQTmSFsf53B/NgODmg2IB3HxSHIE4sjX3Z8FwPvKXP7WDAr5Ega944Aso+HoMvryDqwVs8QGuZbClEbjSwhZu2DoQXFZiq1Rs0YuvofElObjC/wTjgEMUTl+jvgAAAABJRU5ErkJggg=="},a408:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAWlBMVEUAAAAYGBgfHx8YGBgYGBgZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoZGRkYGBgXmzAXlS4XIxoXiCwXdCgXZiYYPB4YMx0XLBsYGxgXji0XeioYRCAXVCMXUSLBVLpGAAAADnRSTlMAvxD789nFuqKQXFE71kOYHHoAAAE8SURBVFjD1ZjbboMwEERt7iFkbXCwubT//5tVkNqlbR5aZqQk5wPOw8gLu2P2ZG1jy0L+QFHaps3Mfc42l3+R2/MdTVfJAarup+ckBzl9D6eWw9TZznMRgIuaaoGof+UD5tQJTLeJKoGptncoBG4v0woBa0yWC4E8M61QaE0jFBqNCA2pFAqlKYRCYYTES4mmuI4MURycc8MKi5J3G0sERcF9cu0h0ey+8G8TIHJ7hhEUKUuCRRoVJlL8+4SKNCpQpISEiRS/giJlZIkWlsg/nSiwRJEjmkdBRTpwuCgkcER00iCRzj4o0nBw0ZIoH/9hRf4i1/0/BBH1s4YDiSSF28uJjG2kj/1zrTUPEtGWUdp6TFvYaScE7aihnVmsw492irKOY9q5zi0Q8EqDXbLgtQ+/iMKrMX5Zh9eHH20iDuavngSaAAAAAElFTkSuQmCC"},a6fc:function(t,e,n){t.exports={tips:"MidiDialog_tips_34R8n"}},aae2:function(t,e,n){t.exports={container:"BeatTop_container_rmaUN",top:"BeatTop_top_yarxU",matter:"BeatTop_matter_wtA-N"}},aafe:function(t,e,n){"use strict";var i=n("e658"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},abdb:function(t,e,n){"use strict";var i=n("22ba"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},b182:function(t,e,n){"use strict";var i=n("9045"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},b3b0:function(t,e,n){"use strict";var i=n("1f04"),a=n("8141").includes,r=n("05e7");i({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},bd60:function(t,e,n){"use strict";n("58f3")},be9b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAKlBMVEUgICD///8AAAAgICA5OTmTk5MfHx8hISEgICAfHx8hISElJSUiIiIhISHcNdO5AAAADnRSTlOAgABgCYB6bVFJLykebFktiKMAAADkSURBVEjH7Za7CcJgGEWPxBdioYULqI3YBCtBC7EUBN3AztbKWnCDTGDhBLqA4AoOZEwQMa/vdgnoaXMgP//ju5duwOK4J8Z2fA6/htKVFCYf6U4q07c0IAMvlPouGTjzQFqSySOQXDJxXtIAA8+Xbhg0fckF638MMbnQw2TEDJMyJ0waHDCp42LisMOkxgaTKrmwbn+zIoF2hFYBpPjCf5KKsgulyH4WQar8jy/hHndAeBGFkKILzwNpsEojWhr2UmxIASRFmRSKUrwqQS1FvlQelBoiFRqpGiklS6lrcvGTKuQT1Tg8N0yd9yYAAAAASUVORK5CYII="},bf5c:function(t,e,n){},cdea:function(t,e,n){"use strict";var i=n("21e0"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},d2b5:function(t,e,n){"use strict";var i=n("447c"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},d2e2:function(t,e,n){},d947:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAXVBMVEUAAAAYGBgYGBgZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoeHh4gICAZGRkYGBgXmzAYQR8XeyoXdSkXcCgXJBoXky4XUyIXTCEXiy0XhCsXbScXNB0XOx4XXyUYNx7S6eAgAAAADnRSTlMAv/PZxbqikFxROxEQ1kh1fQsAAAFHSURBVFjD7dhJcoMwEIVhickMdjcgidm+/zGDWAQr5SSy9Jb+D/AVxUr9xHNNWcg0IY+SVBZlI15XSXozWb1g6owCyuqfzoUCuzjMNafg8uuTc6OIbqeUU1S53//x/081RVcfUBYPZdapCFC1QxIBSSEagtSIEgOVosBAhZAYSIoUA6UiwUCJoH8bptZD8oA65kWDIDYtBLIpDYLYtAjoqNcgiM2IgY6PAkFsHiCIFQrqP9Bv0AyAet5rtxkEEQ0GBJFeIJDtMbMCQLZWh0PqhGwfyE1v4zB20dC68FEstDMISHeMgRRjoJXdtlDozm5rKNS7jqFQSLnQPRgaHGemYEgbPut0OETr9P1/BvLoj8fo2O/WpEbyKYE9j2EPdtgJATtqYGcW6vCDnaKo4xh2rqMGBNSkARtZULMPaIhCTWPwsQ42H34BgccPamSbkk8AAAAASUVORK5CYII="},dba6:function(t,e,n){"use strict";var i=n("3358"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},dcdb:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o}));var i=n("a358"),a=i["a"],r=function(t){return a({method:"post",url:"/cgi-bin/v1/yan/audio_src/add",data:t})},s=function(t){return a({method:"post",url:"/cgi-bin/v1/yan/audio_src/list",data:t})},o=function(){return a({method:"post",url:"/cgi-bin/v1/yan/user/get_user_credential"})}},df3f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAASFBMVEUeHh4AAAD///+Pj48fHx8eHh4eHh7r6+vFxcVYWFg6OjowMDAfHx8fHx8fHx8gICAhISEfHx8iIiKGhoby8vLT09NmZmZkZGQyQEQoAAAAGHRSTlN/AH9/Xwhsf39/f396Y1FILikef39/f3+XgmkDAAABF0lEQVRYw+zQSxKCMBRE0SZ5CX/yAXT/OxUxCloOKNJDzgJuVTeKHeMHsR0O66wM3uwLu1wQnCLhTy72OK2PvzmHLO4rZwSZxGw5Y5HNmk9OQCDvnAOFe+UiSOKa60HSP3MBNGHJCWikgAGRgQeRxwCiAQIigQWRRQeeo7H7PN9AU6tFDZK2VIuyBUelVhUotEo067ikJh2XlC1pajJycrz3mmmrTQ3ye6PWlVKV1mMDDp12Xrkrd+Ue7dihDQAwDAPB/bcuqxpURTpg4AVC47+e67me+76etMc433baqJiTJ22QvXMxcczeqZ0ZAotMwRGFEw8HKM5jHO+YFix8YJaxaIRJy4Kb5UCMlZZSLfR6hvZIjgn/ADKECjuA6GpOAAAAAElFTkSuQmCC"},e16c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAMAAAC5dNAvAAAAaVBMVEUAAAAYGBgYGBgZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoeHh4gICAYGBgZGRkYGBgYGBgXmzAXmC8YZCYXXCUXPh8Xky4XiCwXaicXUSIYKBsXNR0XHhkXfisXeioXSCAXcigXbigXWySca73vAAAAEHRSTlMAv/vZxbqikFxROxEQ89byBZflVAAAAXZJREFUWMPt2G1vgjAUBeDyKoLovZUCbXlz//9HLpRssM2ExZ4sbtn55IfmiblWaI/YpsjSICrp2ymjIM0KcT/HIKQHEgbHO1ge08OJ88/agbxy+ICdEvJMctpoZ/LOefUSAiT5MjfI/HICJXdcjOJit3sJlnk/BzguEKIIcVxYiIyAyUSK5NJ5dMjhRUguEiWSKwVB8+u4qq5oJ+uyfU6y3KPWZfscM+9ay7J/7ke5zo66uraVVgbATZLfIlvjy3W8jRyhHNcGynHvx1HfDNN0a9uBl3SgjaIWToE4ahynUdzguCuA64xVqoFw3dhLdkFwqp4RFGclI7llYPL2onXvzxl2sfPn1p9TjmgIxGlHDET4bzfBZtdXuq0Rv2zN0I0yYjm6vUOY/+zoGDlYKzEPKGOVedbX9rNxHsdFv8PsHzi5e3EXpHYBX/HAF1Dw9Rh8eQdXC9jiA1zLYEsjcKWFLdywdSC4rMRWqdiiF19D40tycIX/Cj3xbvrBMMH7AAAAAElFTkSuQmCC"},e55c:function(t,e,n){var i=n("555d"),a=n("97f5"),r=n("2ccf"),s=n("d320").f,o=n("4f83"),c=n("edfa"),l=o("meta"),u=0,h=Object.isExtensible||function(){return!0},d=function(t){s(t,l,{value:{objectID:"O"+ ++u,weakData:{}}})},f=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,l)){if(!h(t))return"F";if(!e)return"E";d(t)}return t[l].objectID},p=function(t,e){if(!r(t,l)){if(!h(t))return!0;if(!e)return!1;d(t)}return t[l].weakData},g=function(t){return c&&A.REQUIRED&&h(t)&&!r(t,l)&&d(t),t},A=t.exports={REQUIRED:!1,fastKey:f,getWeakData:p,onFreeze:g};i[l]=!0},e55e:function(t,e,n){t.exports={PitchElement:"PitchElement_PitchElement_1wY_c",container:"PitchElement_container_LEgS5",fu:"PitchElement_fu_25pZH",yuan:"PitchElement_yuan_3iUAI"}},e630:function(t,e,n){t.exports={audioEditor:"index_audioEditor_1_bvw",audioPlay:"index_audioPlay_1PJmd",panel:"index_panel_1l4_e"}},e658:function(t,e,n){t.exports={BeatSetting:"BeatSetting_BeatSetting_32wjr",isActive:"BeatSetting_isActive_lTHCb",isFloat:"BeatSetting_isFloat_rTUpL",top:"BeatSetting_top_ZTHj4",title:"BeatSetting_title_1bXv9",text:"BeatSetting_text_19x3O",qusu:"BeatSetting_qusu_2AW6a",setting:"BeatSetting_setting_21LEx",select:"BeatSetting_select_1ZLV-",listen:"BeatSetting_listen_1PWB5",bpmText:"BeatSetting_bpmText_3-i9S",confirm:"BeatSetting_confirm_2FUz4"}},e9ae:function(t,e,n){t.exports={container:"BeatContainer_container_2TcbY",right:"BeatContainer_right_DzYQJ",stage:"BeatContainer_stage_15-iQ",drawStage:"BeatContainer_drawStage_3tOsg",pitch:"BeatContainer_pitch_1pSFM",isActive:"BeatContainer_isActive_2UXvs",isRed:"BeatContainer_isRed_1GRtZ",sharp:"BeatContainer_sharp_2NR36"}},ea5d:function(t,e,n){"use strict";var i=n("408a"),a=n.n(i);n.d(e,"default",(function(){return a.a}))},ed58:function(t,e,n){var i=n("7ce6"),a=n("6a8c"),r="​᠎";t.exports=function(t){return i((function(){return!!a[t]()||r[t]()!=r||a[t].name!==t}))}},ede0:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAANlBMVEUAAAAYGBgfHx8ZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoYGBgZGRkYGBgYGBgXmzAXji4YXiUP8EoLAAAADnRSTlMAvxDZxbqikFxRO/PW8ny7PMQAAADcSURBVFjD7dg7EsMgEANQgX98bBnuf9l43MQTUgSjxhleuYUKGnaFK+tmM0T+IA5mdhbfecNKxqMURt4wBnxYeNOCKzvxtsleclY2WN9JE5tMxfs0vlNgs3AGjWw24uAp4AEYChjAUsLCUcJhpsQMQwmDgRIDIiUiKPKkoJxSLif1QXk/5HJSHZT2Qyon1UH7qZz0oB7Ug3pQD+pBTwyq/CDrv2zVEvEX+1ElbJTYZOuxbGGXnRCyo0Z2ZqkOP9kpqjqOZee6qkBQVRqykkVV+4iKKFU1Ji/rZPXhCxJ4DKx92wUJAAAAAElFTkSuQmCC"},edfa:function(t,e,n){var i=n("7ce6");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},f20a:function(t,e,n){},f2b2:function(t,e){t.exports="data:image/png;base64,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"},f47b:function(t,e,n){},f781:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAANlBMVEUAAAAYGBgfHx8YGBgYGBgZGRkZGRkZGRkZGRkaGhoZGRkZGRkZGRkZGRkZGRkYGBgXmzAXXCX6vWUTAAAAD3RSTlMAvRD789nFkFE7XdaioVxwi0JKAAAA6ElEQVRYw+2YQQ6EIBAEGVQUBFv//9lNvKgbswPShzWhHlCHTh9m2pyxS5KhRwb9IGmx5p5JOhTRyXSj8Q4PcP7bM+Ih4zUcwWPEnjwzKpgPk6AKUfIpzsmjGr+LHKpxew9BYDqSrs7bdiDQWRNAIZgICtEIKIgZQGEwPSj0BiT+XLStv9lyRatGE+lhv7dHTVQg2vQS6CK9mU2kh/3qHjWRIirsgS7Sm9lEetiv7lE+tGOUdh7zDvYECon11Cy0N4v1+NFeUdZzTHvXWQMCa9KgjSys2Yc0RPGmMf5Yd2BDzJ8PY7iE8wG8MB/eXB4V1wAAAABJRU5ErkJggg=="},f8d5:function(t,e,n){var i=n("4023"),a=n("6a8c"),r="["+a+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},f9ef:function(t,e,n){},fe3e:function(t,e,n){"use strict";n("750b")},ff6a:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=79)}({0:function(t,e,n){"use strict";function i(t,e,n,i,a,r,s,o){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return i}))},4:function(t,e){t.exports=n("aa0d")},79:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:t.handleKeydown}},[t._t("default")],2)},a=[];i._withStripped=!0;var r=n(4),s=n.n(r),o=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),c={name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[s.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var t=this;this.$on("handleChange",(function(e){t.$emit("change",e)}))},mounted:function(){var t=this.$el.querySelectorAll("[type=radio]"),e=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(t,(function(t){return t.checked}))&&e&&(e.tabIndex=0)},methods:{handleKeydown:function(t){var e=t.target,n="INPUT"===e.nodeName?"[type=radio]":"[role=radio]",i=this.$el.querySelectorAll(n),a=i.length,r=[].indexOf.call(i,e),s=this.$el.querySelectorAll("[role=radio]");switch(t.keyCode){case o.LEFT:case o.UP:t.stopPropagation(),t.preventDefault(),0===r?(s[a-1].click(),s[a-1].focus()):(s[r-1].click(),s[r-1].focus());break;case o.RIGHT:case o.DOWN:r===a-1?(t.stopPropagation(),t.preventDefault(),s[0].click(),s[0].focus()):(s[r+1].click(),s[r+1].focus());break;default:break}}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[this.value])}}},l=c,u=n(0),h=Object(u["a"])(l,i,a,!1,null,null,null);h.options.__file="packages/radio/src/radio-group.vue";var d=h.exports;d.install=function(t){t.component(d.name,d)};e["default"]=d}})}}]);